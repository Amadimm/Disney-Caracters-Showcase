!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}})),a.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return n.default(e)};var r,n=(r=a("8NIkP"))&&r.__esModule?r:{default:r}})),a.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}})),a.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return n.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n.default(e,t)};var r,n=(r=a("8NIkP"))&&r.__esModule?r:{default:r}})),a.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),a.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),a.register("gD1JV",(function(e,t){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return r(e,t)}})),a.register("ge8co",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){return o.apply(null,arguments)};var r,n=(r=a("gD1JV"))&&r.__esModule?r:{default:r};function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,r){return(o=i()?Reflect.construct:function(e,t,r){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return r&&n.default(i,r.prototype),i}).apply(null,arguments)}})),a.register("cZGw3",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}})),a.register("fVNic",(function(e,t){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return r(e)}})),a.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),a.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==n.default(t)&&"function"!=typeof t?r.default(e):t};var r=i(a("ds8z5")),n=i(a("l5bVx"));function i(e){return e&&e.__esModule?e:{default:e}}})),a.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),a.register("2mz0K",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n.default(e)););return e};var r,n=(r=a("fVNic"))&&r.__esModule?r:{default:r}}));var i={};function o(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,u,"next",e)}function u(e){o(i,n,a,s,u,"throw",e)}s(void 0)}))}};var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var u={};function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t,r){t&&c(e.prototype,t);r&&c(e,r);return e};var l=a("hKHmD"),f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e){return p.default(e)||d.default(e)||v.default(e)||h.default()};var p=m(a("kMC0W")),d=m(a("7AJDX")),h=m(a("8CtQK")),v=m(a("auk6i"));function m(e){return e&&e.__esModule?e:{default:e}}var g={},y=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new C(n||[]);return i._invoke=function(e,t,r){var n=f;return function(a,i){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===a)throw i;return P()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=E(o,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?h:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(e,r,o),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",v={};function m(){}function g(){}function y(){}var b={};u(b,i,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(O([])));w&&w!==r&&n.call(w,i)&&(b=w);var _=y.prototype=m.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(a,i,o,s){var u=l(e[a],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function E(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return g.prototype=y,u(_,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(I.prototype),u(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new I(c(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(g);try{regeneratorRuntime=y}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=y:Function("r","regeneratorRuntime = r")(y)}var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t){return k.default(e)||w.default(e,t)||x.default(e,t)||_.default()};var k=I(a("8slrw")),w=I(a("7AJDX")),_=I(a("ifqQW")),x=I(a("auk6i"));function I(e){return e&&e.__esModule?e:{default:e}}var E=a("ds8z5"),T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C.default(e,t)};var S,C=(S=a("gD1JV"))&&S.__esModule?S:{default:S};var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default=function(e){return D(e)};var P=L(a("ge8co")),A=L(a("cZGw3")),R=L(a("fVNic")),N=L(a("gD1JV"));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){var t="function"==typeof Map?new Map:void 0;return D=function(e){if(null===e||!A.default(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return P.default(e,arguments,R.default(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),N.default(r,e)},D(e)}var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e){var t=j.default();return function(){var r,n=U.default(e);if(t){var a=U.default(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return F.default(this,r)}};var j=V(a("aTHs7")),U=V(a("fVNic")),F=V(a("jmhxu"));function V(e){return e&&e.__esModule?e:{default:e}}var B,H,z,W=B={};function K(){throw new Error("setTimeout has not been defined")}function q(){throw new Error("clearTimeout has not been defined")}function G(e){if(H===setTimeout)return setTimeout(e,0);if((H===K||!H)&&setTimeout)return H=setTimeout,setTimeout(e,0);try{return H(e,0)}catch(t){try{return H.call(null,e,0)}catch(t){return H.call(this,e,0)}}}!function(){try{H="function"==typeof setTimeout?setTimeout:K}catch(e){H=K}try{z="function"==typeof clearTimeout?clearTimeout:q}catch(e){z=q}}();var J,$=[],X=!1,Y=-1;function Q(){X&&J&&(X=!1,J.length?$=J.concat($):Y=-1,$.length&&Z())}function Z(){if(!X){var e=G(Q);X=!0;for(var t=$.length;t;){for(J=$,$=[];++Y<t;)J&&J[Y].run();Y=-1,t=$.length}J=null,X=!1,function(e){if(z===clearTimeout)return clearTimeout(e);if((z===q||!z)&&clearTimeout)return z=clearTimeout,clearTimeout(e);try{z(e)}catch(t){try{return z.call(null,e)}catch(t){return z.call(this,e)}}}(e)}}function ee(e,t){this.fun=e,this.array=t}function te(){}W.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];$.push(new ee(e,t)),1!==$.length||X||G(Z)},ee.prototype.run=function(){this.fun.apply(null,this.array)},W.title="browser",W.browser=!0,W.env={},W.argv=[],W.version="",W.versions={},W.on=te,W.addListener=te,W.once=te,W.off=te,W.removeListener=te,W.removeAllListeners=te,W.emit=te,W.prependListener=te,W.prependOnceListener=te,W.listeners=function(e){return[]},W.binding=function(e){throw new Error("process.binding is not supported")},W.cwd=function(){return"/"},W.chdir=function(e){throw new Error("process.chdir is not supported")},W.umask=function(){return 0};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var re=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):55296==(64512&a)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],a=0;a<e.length;a+=3){var i=e[a],o=a+1<e.length,s=o?e[a+1]:0,u=a+2<e.length,c=u?e[a+2]:0,l=i>>2,f=(3&i)<<4|s>>4,p=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(p=64)),n.push(r[l],r[f],r[p],r[d])}return n.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(re(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],r=0,n=0;r<e.length;){var a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var o=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else{var s=e[r++],u=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],a=0;a<e.length;){var i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0,s=++a<e.length?r[e.charAt(a)]:64,u=++a<e.length?r[e.charAt(a)]:64;if(++a,null==i||null==o||null==s||null==u)throw new ae;var c=i<<2|o>>4;if(n.push(c),64!==s){var l=o<<4&240|s>>2;if(n.push(l),64!==u){var f=s<<6&192|u;n.push(f)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ae=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){var t;return e(s)(this,n),(t=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).name="DecodeBase64StringError",t}return n}(e(O)(Error)),ie=function(e){return function(e){var t=re(e);return ne.encodeByteArray(t,!0)}(e).replace(/\./g,"")},oe=function(e){try{return ne.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var se=function(){
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ue=function(){try{return se()||function(){if(void 0!==B&&void 0!==B.env);}()||function(){if("undefined"!=typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}var t=e&&oe(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ce=function(e){var t,r;return null===(r=null===(t=ue())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},le=function(){var e;return null===(e=ue())||void 0===e?void 0:e.config},fe=function(e){var t;return null===(t=ue())||void 0===t?void 0:t["_".concat(e)]},pe=function(){"use strict";function t(){var r=this;e(s)(this,t),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,t){r.resolve=e,r.reject=t}))}return e(u)(t,[{key:"wrapCallback",value:function(e){var t=this;return function(r,n){r?t.reject(r):t.resolve(n),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(r):e(r,n))}}}]),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function de(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ve(){try{return"object"==typeof indexedDB}catch(e){return!1}}function me(){return new Promise((function(e,t){try{var r=!0,n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=function(){a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=function(){r=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t,a,i){var o;return e(s)(this,n),(o=r.call(this,a)).code=t,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(e(E)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(e(E)(o),be.prototype.create),o}return n}(e(O)(Error)),be=function(){"use strict";function t(r,n,a){e(s)(this,t),this.service=r,this.serviceName=n,this.errors=a}return e(u)(t,[{key:"create",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r[0]||{},i="".concat(this.service,"/").concat(e),o=this.errors[e],s=o?ke(o,a):"Error",u="".concat(this.serviceName,": ").concat(s," (").concat(i,")."),c=new ye(i,u,a);return c}}]),t}();function ke(e,t){return e.replace(we,(function(e,r){var n=t[r];return null!=n?String(n):"<".concat(r,"?>")}))}var we=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xe(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t),a=!0,i=!1,o=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;if(!n.includes(c))return!1;var l=e[c],f=t[c];if(Ie(l)&&Ie(f)){if(!xe(l,f))return!1}else if(l!==f)return!1}}catch(e){i=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}var p=!0,d=!1,h=void 0;try{for(var v,m=n[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;if(!r.includes(g))return!1}}catch(e){d=!0,h=e}finally{try{p||null==m.return||m.return()}finally{if(d)throw h}}return!0}function Ie(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ee(t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=function(t,n){var a=e(b)(n.value,2),i=a[0],o=a[1];Array.isArray(o)?o.forEach((function(e){r.push(encodeURIComponent(i)+"="+encodeURIComponent(e))})):r.push(encodeURIComponent(i)+"="+encodeURIComponent(o))},u=Object.entries(t)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0)s(0,o)}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r.length?"&"+r.join("&"):""}function Te(t){var r={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=e(b)(t.split("="),2),a=n[0],i=n[1];r[decodeURIComponent(a)]=decodeURIComponent(i)}})),r}function Se(e){var t=e.indexOf("?");if(!t)return"";var r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce=function(){"use strict";function t(r,n){var a=this;e(s)(this,t),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){r(a)})).catch((function(e){a.error(e)}))}return e(u)(t,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,r){var n,a=this;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;if(s in e&&"function"==typeof e[s])return!0}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=Oe),void 0===n.error&&(n.error=Oe),void 0===n.complete&&(n.complete=Oe);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?n.error(a.finalError):n.complete()}catch(e){}})),this.observers.push(n),i}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),t}();function Oe(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pe=144e5;function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=t*Math.pow(r,e),a=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(Pe,n+a)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Re(e){return e&&e._delegate?e._delegate:e}var Ne=function(){"use strict";function t(r,n,a){e(s)(this,t),this.name=r,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e(u)(t,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),t}(),Le="[DEFAULT]",De=function(){"use strict";function t(r,n){e(s)(this,t),this.name=r,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e(u)(t,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new pe;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&r.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:Le})}catch(e){}var r=!0,n=!1,a=void 0;try{for(var i,o=this.instancesDeferred.entries()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=e(b)(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(e){}}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n;return e(g).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.from(t.instances.values()),r.next=3,Promise.all(e(f)(n.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))).concat(e(f)(n.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return r.stop()}}),r)})))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.options,n=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error("".concat(this.name,"(").concat(a,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i=this.getOrInitializeService({instanceIdentifier:a,options:n}),o=!0,s=!1,u=void 0;try{for(var c,l=this.instancesDeferred.entries()[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=e(b)(c.value,2),p=f[0],d=f[1],h=this.normalizeInstanceIdentifier(p);a===h&&d.resolve(i)}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return i}},{key:"onInit",value:function(e,t){var r,n=this.normalizeInstanceIdentifier(t),a=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(n,a);var i=this.instances.get(n);return i&&e(i,n),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var r=this.onInitCallbacks.get(t);if(r){var n=!0,a=!1,i=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;try{u(e,t)}catch(e){}}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}}},{key:"getOrInitializeService",value:function(e){var t,r=e.instanceIdentifier,n=e.options,a=void 0===n?{}:n,i=this.instances.get(r);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=r,t===Le?void 0:t),options:a}),this.instances.set(r,i),this.instancesOptions.set(r,a),this.invokeOnInitCallbacks(i,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,i)}catch(e){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;return this.component?this.component.multipleInstances?e:Le:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,je,Ue=function(){"use strict";function t(r){e(s)(this,t),this.name=r,this.providers=new Map}return e(u)(t,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new De(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}(),Fe=(l=a("hKHmD"),[]);(je=Me||(Me={}))[je.DEBUG=0]="DEBUG",je[je.VERBOSE=1]="VERBOSE",je[je.INFO=2]="INFO",je[je.WARN=3]="WARN",je[je.ERROR=4]="ERROR",je[je.SILENT=5]="SILENT";var Ve,Be={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},He=Me.INFO,ze=(Ve={},e(l)(Ve,Me.DEBUG,"log"),e(l)(Ve,Me.VERBOSE,"log"),e(l)(Ve,Me.INFO,"info"),e(l)(Ve,Me.WARN,"warn"),e(l)(Ve,Me.ERROR,"error"),Ve),We=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var o;if(!(r<t.logLevel)){var s=(new Date).toISOString(),u=ze[r];if(!u)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(r,")"));(o=console)[u].apply(o,["[".concat(s,"]  ").concat(t.name,":")].concat(e(f)(a)))}},Ke=function(){"use strict";function t(r){e(s)(this,t),this.name=r,this._logLevel=He,this._logHandler=We,this._userLogHandler=null,Fe.push(this)}return e(u)(t,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Me))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?Be[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Me.DEBUG].concat(e(f)(r))),this._logHandler.apply(this,[this,Me.DEBUG].concat(e(f)(r)))}},{key:"log",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Me.VERBOSE].concat(e(f)(r))),this._logHandler.apply(this,[this,Me.VERBOSE].concat(e(f)(r)))}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Me.INFO].concat(e(f)(r))),this._logHandler.apply(this,[this,Me.INFO].concat(e(f)(r)))}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Me.WARN].concat(e(f)(r))),this._logHandler.apply(this,[this,Me.WARN].concat(e(f)(r)))}},{key:"error",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Me.ERROR].concat(e(f)(r))),this._logHandler.apply(this,[this,Me.ERROR].concat(e(f)(r)))}}]),t}();var qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ge.default(e,t,r[t])}))}return e};var Ge=function(e){return e&&e.__esModule?e:{default:e}}(a("hKHmD"));var Je,$e;var Xe=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,et=new WeakMap;var tt={get:function(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return Ye.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qe.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return at(e[t])},set:function(e,t,r){return e[t]=r,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function rt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($e||($e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(it(this),r),at(Xe.get(this))}:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return at(t.apply(it(this),r))}:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,s=(o=t).call.apply(o,[it(this),r].concat(e(f)(a)));return Qe.set(s,r.sort?r.sort():[r]),at(s)}}function nt(e){return"function"==typeof e?rt(e):(e instanceof IDBTransaction&&function(e){if(!Ye.has(e)){var t=new Promise((function(t,r){var n=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),n()},i=function(){r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));Ye.set(e,t)}}(e),t=e,(Je||(Je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,tt):e);var t}function at(e){if(e instanceof IDBRequest)return t=e,(r=new Promise((function(e,r){var n=function(){t.removeEventListener("success",a),t.removeEventListener("error",i)},a=function(){e(at(t.result)),n()},i=function(){r(t.error),n()};t.addEventListener("success",a),t.addEventListener("error",i)}))).then((function(e){e instanceof IDBCursor&&Xe.set(e,t)})).catch((function(){})),et.set(r,t),r;var t,r;if(Ze.has(e))return Ze.get(e);var n=nt(e);return n!==e&&(Ze.set(e,n),et.set(n,e)),n}var it=function(e){return et.get(e)};function ot(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.blocked,a=r.upgrade,i=r.blocking,o=r.terminated,s=indexedDB.open(e,t),u=at(s);return a&&s.addEventListener("upgradeneeded",(function(e){a(at(s.result),e.oldVersion,e.newVersion,at(s.transaction),e)})),n&&s.addEventListener("blocked",(function(e){return n(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),i&&e.addEventListener("versionchange",(function(e){return i(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}var st=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],ct=new Map;function lt(t,r){if(t instanceof IDBDatabase&&!(r in t)&&"string"==typeof r){if(ct.get(r))return ct.get(r);var n=r.replace(/FromIndex$/,""),a=r!==n,o=ut.includes(n);if(n in(a?IDBIndex:IDBObjectStore).prototype&&(o||st.includes(n))){var s,u=(s=e(i)(e(g).mark((function t(r){var i,s,u,c,l,p,d=arguments;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=d.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=d[u];return l=this.transaction(r,o?"readwrite":"readonly"),p=l.store,a&&(p=p.index(s.shift())),t.next=7,Promise.all([(c=p)[n].apply(c,e(f)(s)),o&&l.done]);case 7:return t.abrupt("return",t.sent[0]);case 8:case"end":return t.stop()}}),t,this)}))),function(e){return s.apply(this,arguments)});return ct.set(r,u),u}}}tt=function(t){return e(qe)({},t,{get:function(e,r,n){return lt(e,r)||t.get(e,r,n)},has:function(e,r){return!!lt(e,r)||t.has(e,r)}})}(tt);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ft=function(){"use strict";function t(r){e(s)(this,t),this.container=r}return e(u)(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),t}();var pt,dt,ht="@firebase/app",vt="0.9.17",mt=new Ke("@firebase/app"),gt="[DEFAULT]",yt=(pt={},e(l)(pt,ht,"fire-core"),e(l)(pt,"@firebase/app-compat","fire-core-compat"),e(l)(pt,"@firebase/analytics","fire-analytics"),e(l)(pt,"@firebase/analytics-compat","fire-analytics-compat"),e(l)(pt,"@firebase/app-check","fire-app-check"),e(l)(pt,"@firebase/app-check-compat","fire-app-check-compat"),e(l)(pt,"@firebase/auth","fire-auth"),e(l)(pt,"@firebase/auth-compat","fire-auth-compat"),e(l)(pt,"@firebase/database","fire-rtdb"),e(l)(pt,"@firebase/database-compat","fire-rtdb-compat"),e(l)(pt,"@firebase/functions","fire-fn"),e(l)(pt,"@firebase/functions-compat","fire-fn-compat"),e(l)(pt,"@firebase/installations","fire-iid"),e(l)(pt,"@firebase/installations-compat","fire-iid-compat"),e(l)(pt,"@firebase/messaging","fire-fcm"),e(l)(pt,"@firebase/messaging-compat","fire-fcm-compat"),e(l)(pt,"@firebase/performance","fire-perf"),e(l)(pt,"@firebase/performance-compat","fire-perf-compat"),e(l)(pt,"@firebase/remote-config","fire-rc"),e(l)(pt,"@firebase/remote-config-compat","fire-rc-compat"),e(l)(pt,"@firebase/storage","fire-gcs"),e(l)(pt,"@firebase/storage-compat","fire-gcs-compat"),e(l)(pt,"@firebase/firestore","fire-fst"),e(l)(pt,"@firebase/firestore-compat","fire-fst-compat"),e(l)(pt,"fire-js","fire-js"),e(l)(pt,"firebase","fire-js-all"),pt),bt=new Map,kt=new Map;function wt(e,t){try{e.container.addComponent(t)}catch(r){mt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),r)}}function _t(e){var t=e.name;if(kt.has(t))return mt.debug("There were multiple attempts to register component ".concat(t,".")),!1;kt.set(t,e);var r=!0,n=!1,a=void 0;try{for(var i,o=bt.values()[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){wt(i.value,e)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return!0}function xt(e,t){var r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var It=(dt={},e(l)(dt,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),e(l)(dt,"bad-app-name","Illegal App name: '{$appName}"),e(l)(dt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),e(l)(dt,"app-deleted","Firebase App named '{$appName}' already deleted"),e(l)(dt,"no-options","Need to provide options, when not being deployed to hosting via source."),e(l)(dt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),e(l)(dt,"invalid-log-argument","First argument to `onLog` must be null or a function."),e(l)(dt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),e(l)(dt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),e(l)(dt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),e(l)(dt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),dt),Et=new be("app","Firebase",It),Tt=function(){"use strict";function t(r,n,a){var i=this;e(s)(this,t),this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ne("app",(function(){return i}),"PUBLIC"))}return e(u)(t,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}]),t}(),St="10.3.0";function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if("object"!=typeof t){var n=t;t={name:n}}var a=Object.assign({name:gt,automaticDataCollectionEnabled:!1},t),i=a.name;if("string"!=typeof i||!i)throw Et.create("bad-app-name",{appName:String(i)});if(r||(r=le()),!r)throw Et.create("no-options");var o=bt.get(i);if(o){if(xe(r,o.options)&&xe(a,o.config))return o;throw Et.create("duplicate-app",{appName:i})}var s=new Ue(i),u=!0,c=!1,l=void 0;try{for(var f,p=kt.values()[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;s.addComponent(d)}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}var h=new Tt(r,a,s);return bt.set(i,h),h}function Ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=bt.get(e);if(!t&&e===gt&&le())return Ct();if(!t)throw Et.create("no-app",{appName:e});return t}function Pt(e,t,r){var n,a=null!==(n=yt[e])&&void 0!==n?n:e;r&&(a+="-".concat(r));var i=a.match(/\s|\//),o=t.match(/\s|\//);if(i||o){var s=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&s.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void mt.warn(s.join(" "))}_t(new Ne("".concat(a,"-version"),(function(){return{library:a,version:t}}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var At="firebase-heartbeat-store",Rt=null;function Nt(){return Rt||(Rt=ot("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(At)}}).catch((function(e){throw Et.create("idb-open",{originalErrorMessage:e.message})}))),Rt}function Lt(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=e(i)(e(g).mark((function t(r){var n,a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nt();case 3:return n=e.sent,e.next=6,n.transaction(At).objectStore(At).get(Ut(r));case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof ye?mt.warn(e.t0.message):(i=Et.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),mt.warn(i.message));case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function Mt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=e(i)(e(g).mark((function t(r,n){var a,i,o,s;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nt();case 3:return a=e.sent,i=a.transaction(At,"readwrite"),o=i.objectStore(At),e.next=8,o.put(n,Ut(r));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof ye?mt.warn(e.t0.message):(s=Et.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),mt.warn(s.message));case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function Ut(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft=function(){"use strict";function t(r){var n=this;e(s)(this,t),this.container=r,this._heartbeatsCache=null;var a=this.container.getProvider("app").getImmediate();this._storage=new zt(a),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return e(u)(t,[{key:"triggerHeartbeat",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n,a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.container.getProvider("platform-logger").getImmediate(),a=n.getPlatformInfoString(),i=Vt(),null!==t._heartbeatsCache){e.next=7;break}return e.next=6,t._heartbeatsCachePromise;case 6:t._heartbeatsCache=e.sent;case 7:if(t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))){e.next=11;break}return e.abrupt("return");case 11:t._heartbeatsCache.heartbeats.push({date:i,agent:a});case 12:return t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",t._storage.overwrite(t._heartbeatsCache));case 14:case"end":return e.stop()}}),r)})))()}},{key:"getHeartbeatsHeader",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n,a,i,o,s;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t._heartbeatsCache){e.next=3;break}return e.next=3,t._heartbeatsCachePromise;case 3:if(null!==t._heartbeatsCache&&0!==t._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=Vt(),a=Bt(t._heartbeatsCache.heartbeats),i=a.heartbeatsToSend,o=a.unsentEntries,s=ie(JSON.stringify({version:2,heartbeats:i})),t._heartbeatsCache.lastSentHeartbeatDate=n,!(o.length>0)){e.next=15;break}return t._heartbeatsCache.heartbeats=o,e.next=13,t._storage.overwrite(t._heartbeatsCache);case 13:e.next=16;break;case 15:t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache);case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),r)})))()}}]),t}();function Vt(){return(new Date).toISOString().substring(0,10)}function Bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],n=e.slice(),a=!0,i=!1,o=void 0;try{for(var s,u=function(e,a){var i=a.value,o=r.find((function(e){return e.agent===i.agent}));if(o){if(o.dates.push(i.date),Wt(r)>t)return o.dates.pop(),"break"}else if(r.push({agent:i.agent,dates:[i.date]}),Wt(r)>t)return r.pop(),"break";n=n.slice(1)},c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=u(c,s);if("break"===l)break}}catch(e){i=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return{heartbeatsToSend:r,unsentEntries:n}}var Ht,zt=function(){"use strict";function t(r){e(s)(this,t),this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e(u)(t,[{key:"runIndexedDBEnvironmentCheck",value:function(){return e(i)(e(g).mark((function t(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",me().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),t)})))()}},{key:"read",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Lt(t.app);case 9:return n=e.sent,e.abrupt("return",n||{heartbeats:[]});case 11:case"end":return e.stop()}}),r)})))()}},{key:"overwrite",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r._canUseIndexedDBPromise;case 3:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.read();case 10:return i=e.sent,e.abrupt("return",Mt(r.app,{lastSentHeartbeatDate:null!==(a=t.lastSentHeartbeatDate)&&void 0!==a?a:i.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 12:case"end":return e.stop()}}),n)})))()}},{key:"add",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,i;return e(g).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,r._canUseIndexedDBPromise;case 3:if(n.sent){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,r.read();case 10:return i=n.sent,n.abrupt("return",Mt(r.app,{lastSentHeartbeatDate:null!==(a=t.lastSentHeartbeatDate)&&void 0!==a?a:i.lastSentHeartbeatDate,heartbeats:e(f)(i.heartbeats).concat(e(f)(t.heartbeats))}));case 12:case"end":return n.stop()}}),n)})))()}}]),t}();function Wt(e){return ie(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht="",_t(new Ne("platform-logger",(function(e){return new ft(e)}),"PRIVATE")),_t(new Ne("heartbeat",(function(e){return new Ft(e)}),"PRIVATE")),Pt(ht,vt,Ht),Pt(ht,vt,"esm2017"),Pt("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Pt("firebase","10.3.0","app");var Kt,qt;l=a("hKHmD"),l=a("hKHmD");var Gt=new WeakMap,Jt=new WeakMap,$t=new WeakMap,Xt=new WeakMap,Yt=new WeakMap;var Qt={get:function(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return Jt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$t.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return tr(e[t])},set:function(e,t,r){return e[t]=r,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Zt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qt||(qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(rr(this),r),tr(Gt.get(this))}:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return tr(t.apply(rr(this),r))}:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,s=(o=t).call.apply(o,[rr(this),r].concat(e(f)(a)));return $t.set(s,r.sort?r.sort():[r]),tr(s)}}function er(e){return"function"==typeof e?Zt(e):(e instanceof IDBTransaction&&function(e){if(!Jt.has(e)){var t=new Promise((function(t,r){var n=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),n()},i=function(){r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));Jt.set(e,t)}}(e),t=e,(Kt||(Kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Qt):e);var t}function tr(e){if(e instanceof IDBRequest)return t=e,(r=new Promise((function(e,r){var n=function(){t.removeEventListener("success",a),t.removeEventListener("error",i)},a=function(){e(tr(t.result)),n()},i=function(){r(t.error),n()};t.addEventListener("success",a),t.addEventListener("error",i)}))).then((function(e){e instanceof IDBCursor&&Gt.set(e,t)})).catch((function(){})),Yt.set(r,t),r;var t,r;if(Xt.has(e))return Xt.get(e);var n=er(e);return n!==e&&(Xt.set(e,n),Yt.set(n,e)),n}var rr=function(e){return Yt.get(e)};function nr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.blocked,a=r.upgrade,i=r.blocking,o=r.terminated,s=indexedDB.open(e,t),u=tr(s);return a&&s.addEventListener("upgradeneeded",(function(e){a(tr(s.result),e.oldVersion,e.newVersion,tr(s.transaction))})),n&&s.addEventListener("blocked",(function(){return n()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),i&&e.addEventListener("versionchange",(function(){return i()}))})).catch((function(){})),u}var ar=["get","getKey","getAll","getAllKeys","count"],ir=["put","add","delete","clear"],or=new Map;function sr(t,r){if(t instanceof IDBDatabase&&!(r in t)&&"string"==typeof r){if(or.get(r))return or.get(r);var n=r.replace(/FromIndex$/,""),a=r!==n,o=ir.includes(n);if(n in(a?IDBIndex:IDBObjectStore).prototype&&(o||ar.includes(n))){var s,u=(s=e(i)(e(g).mark((function t(r){var i,s,u,c,l,p,d=arguments;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=d.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=d[u];return l=this.transaction(r,o?"readwrite":"readonly"),p=l.store,a&&(p=p.index(s.shift())),t.next=7,Promise.all([(c=p)[n].apply(c,e(f)(s)),o&&l.done]);case 7:return t.abrupt("return",t.sent[0]);case 8:case"end":return t.stop()}}),t,this)}))),function(e){return s.apply(this,arguments)});return or.set(r,u),u}}}!function(e){Qt=e(Qt)}((function(t){return e(qe)({},t,{get:function(e,r,n){return sr(e,r)||t.get(e,r,n)},has:function(e,r){return!!sr(e,r)||t.has(e,r)}})}));var ur,cr="@firebase/installations",lr="0.6.4",fr=1e4,pr="w:".concat(lr),dr="FIS_v2",hr=36e5,vr=(ur={},e(l)(ur,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),e(l)(ur,"not-registered","Firebase Installation is not registered."),e(l)(ur,"installation-not-found","Firebase Installation not found."),e(l)(ur,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),e(l)(ur,"app-offline","Could not process request. Application offline."),e(l)(ur,"delete-pending-registration","Can't delete installation while there is a pending registration request."),ur),mr=new be("installations","Installations",vr);function gr(e){return e instanceof ye&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function br(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function kr(e,t){return wr.apply(this,arguments)}function wr(){return(wr=e(i)(e(g).mark((function t(r,n){var a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return a=e.sent,i=a.error,e.abrupt("return",mr.create("request-failed",{requestName:r,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function _r(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xr(e,t){var r=t.refreshToken,n=_r(e);return n.append("Authorization",function(e){return"".concat(dr," ").concat(e)}(r)),n}function Ir(e){return Er.apply(this,arguments)}function Er(){return(Er=e(i)(e(g).mark((function t(r){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",r());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Tr(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){var a,i,o,s,u,c,l,f,p,d,h,v;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.appConfig,i=r.heartbeatServiceProvider,o=n.fid,s=yr(a),u=_r(a),!(c=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,c.getHeartbeatsHeader();case 7:(l=e.sent)&&u.append("x-firebase-client",l);case 9:return f={fid:o,authVersion:dr,appId:a.appId,sdkVersion:pr},p={method:"POST",headers:u,body:JSON.stringify(f)},e.next=13,Ir((function(){return fetch(s,p)}));case 13:if(!(d=e.sent).ok){e.next=22;break}return e.next=17,d.json();case 17:return h=e.sent,v={fid:h.fid||o,registrationStatus:2,refreshToken:h.refreshToken,authToken:br(h.authToken)},e.abrupt("return",v);case 22:return e.next=24,kr("Create Installation",d);case 24:throw e.sent;case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Or=/^[cdef][\w-]{21}$/;function Pr(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var r=function(t){return(r=t,btoa((n=String).fromCharCode.apply(n,e(f)(r))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var r,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return Or.test(r)?r:""}catch(e){return""}}function Ar(e){return"".concat(e.appName,"!").concat(e.appId)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr=new Map;function Nr(e,t){var r=Ar(e);Lr(r,t),function(e,t){var r=Mr();r&&r.postMessage({key:e,fid:t});jr()}(r,t)}function Lr(e,t){var r=Rr.get(e);if(r){var n=!0,a=!1,i=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){(0,o.value)(t)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}}var Dr=null;function Mr(){return!Dr&&"BroadcastChannel"in self&&((Dr=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Lr(e.data.key,e.data.fid)}),Dr}function jr(){0===Rr.size&&Dr&&(Dr.close(),Dr=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur="firebase-installations-store",Fr=null;function Vr(){return Fr||(Fr=nr("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ur)}})),Fr}function Br(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=e(i)(e(g).mark((function t(r,n){var a,i,o,s,u;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ar(r),e.next=3,Vr();case 3:return i=e.sent,o=i.transaction(Ur,"readwrite"),s=o.objectStore(Ur),e.next=8,s.get(a);case 8:return u=e.sent,e.next=11,s.put(n,a);case 11:return e.next=13,o.done;case 13:return u&&u.fid===n.fid||Nr(r,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function zr(e){return Wr.apply(this,arguments)}function Wr(){return(Wr=e(i)(e(g).mark((function t(r){var n,a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar(r),e.next=3,Vr();case 3:return a=e.sent,i=a.transaction(Ur,"readwrite"),e.next=7,i.objectStore(Ur).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Kr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=e(i)(e(g).mark((function t(r,n){var a,i,o,s,u,c;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ar(r),e.next=3,Vr();case 3:return i=e.sent,o=i.transaction(Ur,"readwrite"),s=o.objectStore(Ur),e.next=8,s.get(a);case 8:if(u=e.sent,void 0!==(c=n(u))){e.next=15;break}return e.next=13,s.delete(a);case 13:e.next=17;break;case 15:return e.next=17,s.put(c,a);case 17:return e.next=19,o.done;case 19:return!c||u&&u.fid===c.fid||Nr(r,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Gr(e){return Jr.apply(this,arguments)}function Jr(){return(Jr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r){var n,a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Kr(r.appConfig,(function(e){var t=$r(e),a=Xr(r,t);return n=a.registrationPromise,a.installationEntry}));case 3:if(""!==(a=e.sent).fid){e.next=9;break}return e.next=7,n;case 7:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 9:return e.abrupt("return",{installationEntry:a,registrationPromise:n});case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function $r(e){return tn(e||{fid:Pr(),registrationStatus:0})}function Xr(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(mr.create("app-offline"))};var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=function(e,t){return Yr.apply(this,arguments)}(e,r);return{installationEntry:r,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Qr(e)}:{installationEntry:t}}function Yr(){return(Yr=e(i)(e(g).mark((function t(r,n){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tr(r,n);case 3:return a=e.sent,e.abrupt("return",Br(r.appConfig,a));case 7:if(e.prev=7,e.t0=e.catch(0),!gr(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,zr(r.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Br(r.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Qr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=e(i)(e(g).mark((function t(r){var n,a,i,o;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en(r.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Cr(100);case 6:return e.next=8,en(r.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Gr(r);case 14:if(a=e.sent,i=a.installationEntry,!(o=a.registrationPromise)){e.next=21;break}return e.abrupt("return",o);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function en(e){return Kr(e,(function(e){if(!e)throw mr.create("installation-not-found");return tn(e)}))}function tn(e){return 1===(t=e).registrationStatus&&t.registrationTime+fr<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function rn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){var a,i,o,s,u,c,l,f,p,d,h;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.appConfig,i=r.heartbeatServiceProvider,o=an(a,n),s=xr(a,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(c=e.sent)&&s.append("x-firebase-client",c);case 9:return l={installation:{sdkVersion:pr,appId:a.appId}},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=13,Ir((function(){return fetch(o,f)}));case 13:if(!(p=e.sent).ok){e.next=22;break}return e.next=17,p.json();case 17:return d=e.sent,h=br(d),e.abrupt("return",h);case 22:return e.next=24,kr("Generate Auth Token",p);case 24:throw e.sent;case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function an(e,t){var r=t.fid;return"".concat(yr(e),"/").concat(r,"/authTokens:generate")}function on(e){return sn.apply(this,arguments)}function sn(){return sn=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r){var n,a,i,o,s=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],e.next=4,Kr(r.appConfig,(function(e){if(!dn(e))throw mr.create("not-registered");var t=e.authToken;if(!n&&hn(t))return e;if(1===t.requestStatus)return a=un(r,n),e;if(!navigator.onLine)throw mr.create("app-offline");var i=vn(e);return a=fn(r,i),i}));case 4:if(i=e.sent,!a){e.next=11;break}return e.next=8,a;case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=i.authToken;case 12:return o=e.t0,e.abrupt("return",o);case 14:case"end":return e.stop()}}),t)}))),sn.apply(this,arguments)}function un(e,t){return cn.apply(this,arguments)}function cn(){return(cn=e(i)(e(g).mark((function t(r,n){var a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(r.appConfig);case 2:a=e.sent;case 3:if(1!==a.authToken.requestStatus){e.next=11;break}return e.next=6,Cr(100);case 6:return e.next=8,ln(r.appConfig);case 8:a=e.sent,e.next=3;break;case 11:if(0!==(i=a.authToken).requestStatus){e.next=16;break}return e.abrupt("return",on(r,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ln(e){return Kr(e,(function(e){if(!dn(e))throw mr.create("not-registered");var t,r=e.authToken;return 1===(t=r).requestStatus&&t.requestTime+fr<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function fn(e,t){return pn.apply(this,arguments)}function pn(){return(pn=e(i)(e(g).mark((function t(r,n){var a,i,o;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rn(r,n);case 3:return a=e.sent,i=Object.assign(Object.assign({},n),{authToken:a}),e.next=7,Br(r.appConfig,i);case 7:return e.abrupt("return",a);case 10:if(e.prev=10,e.t0=e.catch(0),!gr(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,zr(r.appConfig);case 15:e.next=20;break;case 17:return o=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Br(r.appConfig,o);case 20:throw e.t0;case 21:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function dn(e){return void 0!==e&&2===e.registrationStatus}function hn(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+hr}(e)}function vn(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function mn(){return(mn=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r){var n,a,i,o;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r,e.next=3,Gr(n);case 3:return a=e.sent,i=a.installationEntry,(o=a.registrationPromise)?o.catch(console.error):on(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function gn(){return gn=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r){var n,a,i,o=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],a=r,e.next=4,yn(a);case 4:return e.next=6,on(a,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),t)}))),gn.apply(this,arguments)}function yn(e){return bn.apply(this,arguments)}function bn(){return(bn=e(i)(e(g).mark((function t(r){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(r);case 2:if(!(n=e.sent.registrationPromise)){e.next=6;break}return e.next=6,n;case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function kn(e){return mr.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn="installations",_n=function(e){var t=xt(e.getProvider("app").getImmediate(),wn).getImmediate(),r={getId:function(){return function(e){return mn.apply(this,arguments)}(t)},getToken:function(e){return function(e){return gn.apply(this,arguments)}(t,e)}};return r};_t(new Ne(wn,(function(e){var t=e.getProvider("app").getImmediate(),r=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){if(!e||!e.options)throw kn("App Configuration");if(!e.name)throw kn("App Name");var t=!0,r=!1,n=void 0;try{for(var a,i=["projectId","apiKey","appId"][Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if(!e.options[o])throw kn(o)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:r,heartbeatServiceProvider:xt(t,"heartbeat"),_delete:function(){return Promise.resolve()}}}),"PUBLIC")),_t(new Ne("installations-internal",_n,"PRIVATE")),Pt(cr,lr),Pt(cr,lr,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xn,In="analytics",En=6e4,Tn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sn="https://www.googletagmanager.com/gtag/js",Cn=new Ke("@firebase/analytics"),On=(xn={},e(l)(xn,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),e(l)(xn,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),e(l)(xn,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),e(l)(xn,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),e(l)(xn,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),e(l)(xn,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),e(l)(xn,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),e(l)(xn,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),e(l)(xn,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),e(l)(xn,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),e(l)(xn,"no-client-id",'The "client_id" field is empty.'),e(l)(xn,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),xn),Pn=new be("analytics","Analytics",On);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function An(e){if(!e.startsWith(Sn)){var t=Pn.create("invalid-gtag-resource",{gtagURL:e});return Cn.warn(t.message),""}return e}function Rn(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Nn(e,t){var r=function(e,t){var r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}("firebase-js-sdk-policy",{createScriptURL:An}),n=document.createElement("script"),a="".concat(Sn,"?l=").concat(e,"&id=").concat(t);n.src=r?null==r?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function Ln(e,t,r,n,a,i){return Dn.apply(this,arguments)}function Dn(){return(Dn=e(i)(e(g).mark((function t(r,n,a,i,o,s){var u,c,l;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[o],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Rn(a);case 9:if(c=e.sent,!(l=c.find((function(e){return e.measurementId===o})))){e.next=14;break}return e.next=14,n[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Cn.error(e.t0);case 19:r("config",o,s);case 20:case"end":return e.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function Mn(e,t,r,n,a){return jn.apply(this,arguments)}function jn(){return(jn=e(i)(e(g).mark((function t(r,n,a,i,o){var s,u,c,l,f,p,d,h,v,m,y;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=[],!o||!o.send_to){e.next=38;break}return u=o.send_to,Array.isArray(u)||(u=[u]),e.next=7,Rn(a);case 7:c=e.sent,l=!0,f=!1,p=void 0,e.prev=9,d=u[Symbol.iterator]();case 11:if(l=(h=d.next()).done){e.next=24;break}if(v=h.value,m=c.find((function(e){return e.measurementId===v})),!(y=m&&n[m.appId])){e.next=19;break}s.push(y),e.next=21;break;case 19:return s=[],e.abrupt("break",24);case 21:l=!0,e.next=11;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(9),f=!0,p=e.t0;case 30:e.prev=30,e.prev=31,l||null==d.return||d.return();case 33:if(e.prev=33,!f){e.next=36;break}throw p;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return 0===s.length&&(s=Object.values(n)),e.next=41,Promise.all(s);case 41:r("event",i,o||{}),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(0),Cn.error(e.t1);case 47:case"end":return e.stop()}}),t,null,[[0,44],[9,26,30,38],[31,,33,37]])})))).apply(this,arguments)}function Un(t,r,n,a,o){var s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];window[a].push(arguments)};return window[o]&&"function"==typeof window[o]&&(s=window[o]),window[o]=function(t,r,n,a){function o(){return o=e(i)(e(g).mark((function i(o){var s,u,c,l,p,d,h,v,m,y,k,w,_,x,I,E,T,S=arguments;return e(g).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(s=S.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=S[c];if(i.prev=1,"event"!==o){i.next=8;break}return l=e(b)(u,2),p=l[0],d=l[1],i.next=6,Mn(t,r,n,p,d);case 6:i.next=15;break;case 8:if("config"!==o){i.next=14;break}return h=e(b)(u,2),v=h[0],m=h[1],i.next=12,Ln(t,r,n,a,v,m);case 12:i.next=15;break;case 14:"consent"===o?(y=e(b)(u,1),k=y[0],t("consent","update",k)):"get"===o?(w=e(b)(u,3),_=w[0],x=w[1],I=w[2],t("get",_,x,I)):"set"===o?(E=e(b)(u,1),T=E[0],t("set",T)):t.apply(void 0,[o].concat(e(f)(u)));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(1),Cn.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[1,17]])}))),o.apply(this,arguments)}return function(e){return o.apply(this,arguments)}}(s,t,r,n),{gtagCore:s,wrappedGtag:window[o]}}function Fn(e){var t=window.document.getElementsByTagName("script"),r=!0,n=!1,a=void 0;try{for(var i,o=Object.values(t)[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;if(s.src&&s.src.includes(Sn)&&s.src.includes(e))return s}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function(){"use strict";function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e(s)(this,t),this.throttleMetadata=r,this.intervalMillis=n}return e(u)(t,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),t}(),Bn=new Vn;function Hn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function zn(e){return Wn.apply(this,arguments)}function Wn(){return(Wn=e(i)(e(g).mark((function t(r){var n,a,i,o,s,u,c,l;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.appId,i=r.apiKey,o={method:"GET",headers:Hn(i)},s=Tn.replace("{app-id}",a),e.next=6,fetch(s,o);case 6:if(200===(u=e.sent).status||304===u.status){e.next=19;break}return c="",e.prev=9,e.next=12,u.json();case 12:l=e.sent,(null===(n=l.error)||void 0===n?void 0:n.message)&&(c=l.error.message),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:throw Pn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c});case 19:return e.abrupt("return",u.json());case 20:case"end":return e.stop()}}),t,null,[[9,16]])})))).apply(this,arguments)}function Kn(e){return qn.apply(this,arguments)}function qn(){return qn=e(i)(e(g).mark((function t(r){var n,a,o,s,u,c,l,f,p=arguments;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=p.length>1&&void 0!==p[1]?p[1]:Bn,a=p.length>2?p[2]:void 0,o=r.options,s=o.appId,u=o.apiKey,c=o.measurementId,s){t.next=4;break}throw Pn.create("no-app-id");case 4:if(u){t.next=8;break}if(!c){t.next=7;break}return t.abrupt("return",{measurementId:c,appId:s});case 7:throw Pn.create("no-api-key");case 8:return l=n.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Zn,setTimeout(e(i)(e(g).mark((function t(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.abort();case 1:case"end":return e.stop()}}),t)}))),void 0!==a?a:En),t.abrupt("return",Gn({appId:s,apiKey:u,measurementId:c},l,f,n));case 12:case"end":return t.stop()}}),t)}))),qn.apply(this,arguments)}function Gn(e,t,r){return Jn.apply(this,arguments)}function Jn(){return Jn=e(i)(e(g).mark((function t(r,n,a){var i,o,s,u,c,l,f,p,d,h,v=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,o=n.backoffCount,s=v.length>3&&void 0!==v[3]?v[3]:Bn,c=r.appId,l=r.measurementId,e.prev=3,e.next=6,$n(a,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return Cn.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,zn(r);case 17:return f=e.sent,s.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),Xn(p=e.t1)){e.next=33;break}if(s.deleteThrottleMetadata(c),!l){e.next=32;break}return Cn.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null==p?void 0:p.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null==p?void 0:p.customData)||void 0===u?void 0:u.httpStatus)?Ae(o,s.intervalMillis,30):Ae(o,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},s.setThrottleMetadata(c,h),Cn.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",Gn(r,h,a,s));case 38:case"end":return e.stop()}}),t,null,[[3,8],[14,22]])}))),Jn.apply(this,arguments)}function $n(e,t){return new Promise((function(r,n){var a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener((function(){clearTimeout(i),n(Pn.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Xn(e){if(!(e instanceof ye&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var Yn,Qn,Zn=function(){"use strict";function t(){e(s)(this,t),this.listeners=[]}return e(u)(t,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return(ea=e(i)(e(g).mark((function t(r,n,a,i,o){var s,u;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!o.global){e.next=5;break}return r("event",a,i),e.abrupt("return");case 5:return e.next=7,n;case 7:s=e.sent,u=Object.assign(Object.assign({},i),{send_to:s}),r("event",a,u);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ta(e){Qn=e}function ra(e){Yn=e}function na(){return aa.apply(this,arguments)}function aa(){return(aa=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve()){e.next=5;break}return Cn.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,me();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Cn.warn(Pn.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),t,null,[[5,10]])})))).apply(this,arguments)}function ia(){return(ia=e(i)(e(g).mark((function t(r,n,a,i,o,s,u){var c,l,f,p,d,h,v;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(l=Kn(r)).then((function(e){a[e.measurementId]=e.appId,r.options.measurementId&&e.measurementId!==r.options.measurementId&&Cn.warn("The measurement ID in the local Firebase config (".concat(r.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Cn.error(e)})),n.push(l),f=na().then((function(e){return e?i.getId():void 0})),t.t0=e(b),t.next=8,Promise.all([l,f]);case 8:return t.t1=t.sent,p=(0,t.t0)(t.t1,2),d=p[0],h=p[1],Fn(s)||Nn(s,d.measurementId),Qn&&(o("consent","default",Qn),ta(void 0)),o("js",new Date),(v=null!==(c=null==u?void 0:u.config)&&void 0!==c?c:{}).origin="firebase",v.update=!0,null!=h&&(v.firebase_id=h),o("config",d.measurementId,v),Yn&&(o("set",Yn),ra(void 0)),t.abrupt("return",d.measurementId);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oa,sa,ua=function(){"use strict";function t(r){e(s)(this,t),this.app=r}return e(u)(t,[{key:"_delete",value:function(){return delete ca[this.app.options.appId],Promise.resolve()}}]),t}(),ca={},la=[],fa={},pa="dataLayer",da="gtag",ha=!1;function va(e,t,r){!function(){var e=[];if(he()&&e.push("This is a browser extension environment."),ge()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),r=Pn.create("invalid-analytics-context",{errorInfo:t});Cn.warn(r.message)}}();var n,a,i=e.options.appId;if(!i)throw Pn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Pn.create("no-api-key");Cn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ca[i])throw Pn.create("already-exists",{id:i});if(!ha){n=pa,a=[],Array.isArray(window[n])?a=window[n]:window[n]=a;var o=Un(ca,la,fa,pa,da),s=o.wrappedGtag,u=o.gtagCore;sa=s,oa=u,ha=!0}return ca[i]=function(e,t,r,n,a,i,o){return ia.apply(this,arguments)}(e,la,fa,t,oa,pa,r),new ua(e)}function ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=xt(e,In);if(r.isInitialized()){var n=r.getImmediate();if(xe(t,r.getOptions()))return n;throw Pn.create("already-initialized")}var a=r.initialize({options:t});return a}function ga(e,t,r,n){e=Re(e),function(e,t,r,n,a){return ea.apply(this,arguments)}(sa,ca[e.app.options.appId],t,r,n).catch((function(e){return Cn.error(e)}))}var ya="@firebase/analytics",ba="0.10.0";_t(new Ne(In,(function(e,t){var r=t.options;return va(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),r)}),"PUBLIC")),_t(new Ne("analytics-internal",(function(e){try{var t=e.getProvider(In).getImmediate();return{logEvent:function(e,r,n){return ga(t,e,r,n)}}}catch(e){throw Pn.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Pt(ya,ba),Pt(ya,ba,"esm2017");E=a("ds8z5"),l=a("hKHmD");var ka={};Object.defineProperty(ka,"__esModule",{value:!0}),ka.default=function(e,t,r){return _a(e,t,r)};var wa=function(e){return e&&e.__esModule?e:{default:e}}(a("2mz0K"));function _a(e,t,r){return(_a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=wa.default(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r||e):a.value}})(e,t,r)}var xa=a("fVNic");function Ia(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}Object.create;Object.create;function Ea(e){return void 0!==e&&void 0!==e.enterprise}var Ta=function t(r){"use strict";if(e(s)(this,t),this.siteKey="",this.emailPasswordEnabled=!1,void 0===r.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=r.recaptchaKey.split("/")[3],this.emailPasswordEnabled=r.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(){return e(l)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ca=Sa,Oa=new be("auth","Firebase",Sa()),Pa=new Ke("@firebase/auth");function Aa(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i;Pa.logLevel<=Me.WARN&&(i=Pa).warn.apply(i,["Auth (".concat(St,"): ").concat(t)].concat(e(f)(n)))}function Ra(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i;Pa.logLevel<=Me.ERROR&&(i=Pa).error.apply(i,["Auth (".concat(St,"): ").concat(t)].concat(e(f)(n)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];throw Ma.apply(void 0,[t].concat(e(f)(n)))}function La(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Ma.apply(void 0,[t].concat(e(f)(n)))}function Da(t,r,n){var a=Object.assign(Object.assign({},Ca()),e(l)({},r,n));return new be("auth","Firebase",a).create(r,{appName:t.name})}function Ma(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i;if("string"!=typeof t){var o,s=n[0],u=e(f)(n.slice(1));return u[0]&&(u[0].appName=t.name),(o=t._errorFactory).create.apply(o,[s].concat(e(f)(u)))}return(i=Oa).create.apply(i,[t].concat(e(f)(n)))}function ja(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(!t)throw Ma.apply(void 0,[r].concat(e(f)(a)))}function Ua(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ra(t),new Error(t)}function Fa(e,t){e||Ua(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ba(){return"http:"===Ha()||"https:"===Ha()}function Ha(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var za=function(){"use strict";function t(r,n){e(s)(this,t),this.shortDelay=r,this.longDelay=n,Fa(n>r,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())||"object"==typeof navigator&&"ReactNative"===navigator.product}return e(u)(t,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ba()||he()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(e,t){Fa(e.emulator,"Emulator should always be set here");var r=e.emulator.url;return t?"".concat(r).concat(t.startsWith("/")?t.slice(1):t):r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ka,qa=function(){"use strict";function t(){e(s)(this,t)}return e(u)(t,null,[{key:"initialize",value:function(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),t}(),Ga=(Ka={},e(l)(Ka,"CREDENTIAL_MISMATCH","custom-token-mismatch"),e(l)(Ka,"MISSING_CUSTOM_TOKEN","internal-error"),e(l)(Ka,"INVALID_IDENTIFIER","invalid-email"),e(l)(Ka,"MISSING_CONTINUE_URI","internal-error"),e(l)(Ka,"INVALID_PASSWORD","wrong-password"),e(l)(Ka,"MISSING_PASSWORD","missing-password"),e(l)(Ka,"EMAIL_EXISTS","email-already-in-use"),e(l)(Ka,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),e(l)(Ka,"INVALID_IDP_RESPONSE","invalid-credential"),e(l)(Ka,"INVALID_PENDING_TOKEN","invalid-credential"),e(l)(Ka,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),e(l)(Ka,"MISSING_REQ_TYPE","internal-error"),e(l)(Ka,"EMAIL_NOT_FOUND","user-not-found"),e(l)(Ka,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),e(l)(Ka,"EXPIRED_OOB_CODE","expired-action-code"),e(l)(Ka,"INVALID_OOB_CODE","invalid-action-code"),e(l)(Ka,"MISSING_OOB_CODE","internal-error"),e(l)(Ka,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),e(l)(Ka,"INVALID_ID_TOKEN","invalid-user-token"),e(l)(Ka,"TOKEN_EXPIRED","user-token-expired"),e(l)(Ka,"USER_NOT_FOUND","user-token-expired"),e(l)(Ka,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),e(l)(Ka,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),e(l)(Ka,"INVALID_CODE","invalid-verification-code"),e(l)(Ka,"INVALID_SESSION_INFO","invalid-verification-id"),e(l)(Ka,"INVALID_TEMPORARY_PROOF","invalid-credential"),e(l)(Ka,"MISSING_SESSION_INFO","missing-verification-id"),e(l)(Ka,"SESSION_EXPIRED","code-expired"),e(l)(Ka,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),e(l)(Ka,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),e(l)(Ka,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),e(l)(Ka,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),e(l)(Ka,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),e(l)(Ka,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),e(l)(Ka,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),e(l)(Ka,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),e(l)(Ka,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),e(l)(Ka,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),e(l)(Ka,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),e(l)(Ka,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),e(l)(Ka,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),e(l)(Ka,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),e(l)(Ka,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),e(l)(Ka,"MISSING_CLIENT_TYPE","missing-client-type"),e(l)(Ka,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),e(l)(Ka,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),e(l)(Ka,"INVALID_REQ_TYPE","invalid-req-type"),Ka),Ja=new za(3e4,6e4);function $a(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Xa(e,t,r,n){return Ya.apply(this,arguments)}function Ya(){return Ya=e(i)(e(g).mark((function t(r,n,a,o){var s,u=arguments;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=u.length>4&&void 0!==u[4]?u[4]:{},t.abrupt("return",Qa(r,s,e(i)(e(g).mark((function t(){var i,s,u,c;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},s={},o&&("GET"===n?s=o:i={body:JSON.stringify(o)}),u=Ee(Object.assign({key:r.config.apiKey},s)).slice(1),e.next=6,r._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode),e.abrupt("return",qa.fetch()(ri(r,r.config.apiHost,a,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},i)));case 10:case"end":return e.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)}))),Ya.apply(this,arguments)}function Qa(e,t,r){return Za.apply(this,arguments)}function Za(){return(Za=e(i)(e(g).mark((function t(r,n,a){var i,o,s,u,c,l,f,p,d;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r._canInitEmulator=!1,i=Object.assign(Object.assign({},Ga),n),t.prev=2,o=new ni(r),t.next=6,Promise.race([a(),o.promise]);case 6:return s=t.sent,o.clearNetworkTimeout(),t.next=10,s.json();case 10:if(!("needConfirmation"in(u=t.sent))){t.next=13;break}throw ai(r,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){t.next=17;break}return t.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=e(b)(c.split(" : "),2),f=l[0],p=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){t.next=23;break}throw ai(r,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){t.next=27;break}throw ai(r,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){t.next=29;break}throw ai(r,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!p){t.next=34;break}throw Da(r,d,p);case 34:Na(r,d);case 35:t.next=42;break;case 37:if(t.prev=37,t.t0=t.catch(2),!(t.t0 instanceof ye)){t.next=41;break}throw t.t0;case 41:Na(r,"network-request-failed",{message:String(t.t0)});case 42:case"end":return t.stop()}}),t,null,[[2,37]])})))).apply(this,arguments)}function ei(e,t,r,n){return ti.apply(this,arguments)}function ti(){return ti=e(i)(e(g).mark((function t(r,n,a,i){var o,s,u=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Xa(r,n,a,i,o);case 3:return"mfaPendingCredential"in(s=e.sent)&&Na(r,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),t)}))),ti.apply(this,arguments)}function ri(e,t,r,n){var a="".concat(t).concat(r,"?").concat(n);return e.config.emulator?Wa(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}var ni=function(){"use strict";function t(r){var n=this;e(s)(this,t),this.auth=r,this.timer=null,this.promise=new Promise((function(e,t){var r=n;n.timer=setTimeout((function(){return t(La(r.auth,"network-request-failed"))}),Ja.get())}))}return e(u)(t,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),t}();function ai(e,t,r){var n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);var a=La(e,t,n);return a.customData._tokenResponse=r,a}function ii(e,t){return oi.apply(this,arguments)}function oi(){return(oi=e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(r,"GET","/v2/recaptchaConfig",$a(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function si(e,t){return ui.apply(this,arguments)}function ui(){return(ui=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(r,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ci(e,t){return li.apply(this,arguments)}function li(){return(li=e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(r,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return pi=e(i)(e(g).mark((function t(r){var n,a,i,o,s,u,c=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],a=Re(r),e.next=4,a.getIdToken(n);case 4:return i=e.sent,ja((o=hi(i))&&o.exp&&o.auth_time&&o.iat,a.auth,"internal-error"),s="object"==typeof o.firebase?o.firebase:void 0,u=null==s?void 0:s.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:fi(di(o.auth_time)),issuedAtTime:fi(di(o.iat)),expirationTime:fi(di(o.exp)),signInProvider:u||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),t)}))),pi.apply(this,arguments)}function di(e){return 1e3*Number(e)}function hi(t){var r=e(b)(t.split("."),3),n=r[0],a=r[1],i=r[2];if(void 0===n||void 0===a||void 0===i)return Ra("JWT malformed, contained fewer than 3 sections"),null;try{var o=oe(a);return o?JSON.parse(o):(Ra("Failed to decode base64 JWT payload"),null)}catch(e){return Ra("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function vi(e,t){return mi.apply(this,arguments)}function mi(){return mi=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){var a=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>2&&void 0!==a[2]&&a[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ye&&gi(e.t0))){e.next=15;break}if(r.auth.currentUser!==r){e.next=15;break}return e.next=15,r.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),t,null,[[3,9]])}))),mi.apply(this,arguments)}function gi(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi=function(){"use strict";function t(r){e(s)(this,t),this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return e(u)(t,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}this.errorBackoff=3e4;var n=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,n)}},{key:"schedule",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var r=this.getInterval(t),n=this;this.timerId=setTimeout(e(i)(e(g).mark((function t(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iteration();case 2:case"end":return e.stop()}}),t)}))),r)}}},{key:"iteration",value:function(){var t=this;return e(i)(e(g).mark((function r(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),"auth/network-request-failed"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&t.schedule(!0),e.abrupt("return");case 9:t.schedule();case 10:case"end":return e.stop()}}),r,null,[[0,5]])})))()}}]),t}(),bi=function(){"use strict";function t(r,n){e(s)(this,t),this.createdAt=r,this.lastLoginAt=n,this._initializeTime()}return e(u)(t,[{key:"_initializeTime",value:function(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(e){return wi.apply(this,arguments)}function wi(){return(wi=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r){var n,a,i,o,s,u,c,l,f,p,d;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.auth,e.next=4,r.getIdToken();case 4:return i=e.sent,e.next=7,vi(r,ci(a,{idToken:i}));case 7:ja(null==(o=e.sent)?void 0:o.users.length,a,"internal-error"),s=o.users[0],r._notifyReloadListener(s),u=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?Ii(s.providerUserInfo):[],c=xi(r.providerData,u),l=r.isAnonymous,f=!(r.email&&s.passwordHash||(null==c?void 0:c.length)),p=!!l&&f,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new bi(s.createdAt,s.lastLoginAt),isAnonymous:p},Object.assign(r,d);case 18:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function _i(){return(_i=e(i)(e(g).mark((function t(r){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Re(r),e.next=3,ki(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function xi(t,r){var n=t.filter((function(e){return!r.some((function(t){return t.providerId===e.providerId}))}));return e(f)(n).concat(e(f)(r))}function Ii(e){return e.map((function(e){var t=e.providerId,r=Ia(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}function Ei(e,t){return Ti.apply(this,arguments)}function Ti(){return(Ti=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){var a;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qa(r,{},e(i)(e(g).mark((function t(){var a,i,o,s,u,c;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ee({grant_type:"refresh_token",refresh_token:n}).slice(1),i=r.config,o=i.tokenApiHost,s=i.apiKey,u=ri(r,o,"/v1/token","key=".concat(s)),e.next=5,r._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",qa.fetch()(u,{method:"POST",headers:c,body:a}));case 8:case"end":return e.stop()}}),t)}))));case 2:return a=t.sent,t.abrupt("return",{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(){"use strict";function t(){e(s)(this,t),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return e(u)(t,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ja(e.idToken,"internal-error"),ja(void 0!==e.idToken,"internal-error"),ja(void 0!==e.refreshToken,"internal-error");var t,r,n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(t=e.idToken,ja(r=hi(t),"internal-error"),ja(void 0!==r.exp,"internal-error"),ja(void 0!==r.iat,"internal-error"),Number(r.exp)-Number(r.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}},{key:"getToken",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(i)(e(g).mark((function a(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ja(!n.accessToken||n.refreshToken,t,"user-token-expired"),r||!n.accessToken||n.isExpired){e.next=3;break}return e.abrupt("return",n.accessToken);case 3:if(!n.refreshToken){e.next=7;break}return e.next=6,n.refresh(t,n.refreshToken);case 6:return e.abrupt("return",n.accessToken);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),a)})))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(t,r){var n=this;return e(i)(e(g).mark((function a(){var i,o,s,u;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(t,r);case 2:i=e.sent,o=i.accessToken,s=i.refreshToken,u=i.expiresIn,n.updateTokensAndExpiration(o,s,Number(u));case 7:case"end":return e.stop()}}),a)})))()}},{key:"updateTokensAndExpiration",value:function(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new t,this.toJSON())}},{key:"_performRefresh",value:function(){return Ua("not implemented")}}],[{key:"fromJSON",value:function(e,r){var n=r.refreshToken,a=r.accessToken,i=r.expirationTime,o=new t;return n&&(ja("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),a&&(ja("string"==typeof a,"internal-error",{appName:e}),o.accessToken=a),i&&(ja("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(e,t){ja("string"==typeof e||void 0===e,"internal-error",{appName:t})}var Oi=function(){"use strict";function t(r){e(s)(this,t);var n=r.uid,a=r.auth,i=r.stsTokenManager,o=Ia(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?e(f)(o.providerData):[],this.metadata=new bi(o.createdAt||void 0,o.lastLoginAt||void 0)}return e(u)(t,[{key:"getIdToken",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(r,r.stsTokenManager.getToken(r.auth,t));case 2:if(ja(a=e.sent,r.auth,"internal-error"),r.accessToken===a){e.next=9;break}return r.accessToken=a,e.next=8,r.auth._persistUserIfCurrent(r);case 8:r.auth._notifyListenersIfCurrent(r);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),n)})))()}},{key:"getIdTokenResult",value:function(e){return function(e){return pi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return _i.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ja(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(e){var r=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}},{key:"_onReload",value:function(e){ja(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(i)(e(g).mark((function a(){var i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),i=!0),!r){e.next=5;break}return e.next=5,ki(n);case 5:return e.next=7,n.auth._persistUserIfCurrent(n);case 7:i&&n.auth._notifyListenersIfCurrent(n);case 8:case"end":return e.stop()}}),a)})))()}},{key:"delete",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return n=e.sent,e.next=5,vi(t,si(t.auth,{idToken:n}));case 5:return t.stsTokenManager.clearRefreshToken(),e.abrupt("return",t.auth.signOut());case 7:case"end":return e.stop()}}),r)})))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(e,r){var n,a,i,o,s,u,c,l,f=null!==(n=r.displayName)&&void 0!==n?n:void 0,p=null!==(a=r.email)&&void 0!==a?a:void 0,d=null!==(i=r.phoneNumber)&&void 0!==i?i:void 0,h=null!==(o=r.photoURL)&&void 0!==o?o:void 0,v=null!==(s=r.tenantId)&&void 0!==s?s:void 0,m=null!==(u=r._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=r.createdAt)&&void 0!==c?c:void 0,y=null!==(l=r.lastLoginAt)&&void 0!==l?l:void 0,b=r.uid,k=r.emailVerified,w=r.isAnonymous,_=r.providerData,x=r.stsTokenManager;ja(b&&x,e,"internal-error");var I=Si.fromJSON(this.name,x);ja("string"==typeof b,e,"internal-error"),Ci(f,e.name),Ci(p,e.name),ja("boolean"==typeof k,e,"internal-error"),ja("boolean"==typeof w,e,"internal-error"),Ci(d,e.name),Ci(h,e.name),Ci(v,e.name),Ci(m,e.name),Ci(g,e.name),Ci(y,e.name);var E=new t({uid:b,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:w,photoURL:h,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(i)(e(g).mark((function i(){var o,s;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Si).updateFromServerResponse(n),s=new t({uid:n.localId,auth:r,stsTokenManager:o,isAnonymous:a}),e.next=5,ki(s);case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}}),i)})))()}}]),t}(),Pi=new Map;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e){Fa(e instanceof Function,"Expected a class definition");var t=Pi.get(e);return t?(Fa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pi.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri=function(){"use strict";function t(){e(s)(this,t),this.type="NONE",this.storage={}}return e(u)(t,[{key:"_isAvailable",value:function(){return e(i)(e(g).mark((function t(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),t)})))()}},{key:"_set",value:function(t,r){var n=this;return e(i)(e(g).mark((function a(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.storage[t]=r;case 1:case"end":return e.stop()}}),a)})))()}},{key:"_get",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.storage[t],e.abrupt("return",void 0===a?null:a);case 2:case"end":return e.stop()}}),n)})))()}},{key:"_remove",value:function(t){var r=this;return e(i)(e(g).mark((function n(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete r.storage[t];case 1:case"end":return e.stop()}}),n)})))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}();Ri.type="NONE";var Ni=Ri;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e,t,r){return"firebase:".concat(e,":").concat(t,":").concat(r)}var Di=function(){"use strict";function t(r,n,a){e(s)(this,t),this.persistence=r,this.auth=n,this.userKey=a;var i=this.auth,o=i.config,u=i.name;this.fullUserKey=Li(this.userKey,o.apiKey,u),this.fullPersistenceKey=Li("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return e(u)(t,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.persistence._get(t.fullUserKey);case 2:return n=e.sent,e.abrupt("return",n?Oi._fromJSON(t.auth,n):null);case 4:case"end":return e.stop()}}),r)})))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.getCurrentUser();case 4:return a=e.sent,e.next=7,r.removeCurrentUser();case 7:if(r.persistence=t,!a){e.next=10;break}return e.abrupt("return",r.setCurrentUser(a));case 10:case"end":return e.stop()}}),n)})))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return e(i)(e(g).mark((function o(){var s,u,c,l,f,p,d,h,v,m,y,b,k;return e(g).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n.length){o.next=2;break}return o.abrupt("return",new t(Ai(Ni),r,a));case 2:return o.next=4,Promise.all(n.map(function(){var t=e(i)(e(g).mark((function t(r){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",r);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:s=o.sent.filter((function(e){return e})),u=s[0]||Ai(Ni),c=Li(a,r.config.apiKey,r.name),l=null,f=!0,p=!1,d=void 0,o.prev=9,h=n[Symbol.iterator]();case 11:if(f=(v=h.next()).done){o.next=29;break}return m=v.value,o.prev=13,o.next=16,m._get(c);case 16:if(!(y=o.sent)){o.next=22;break}return b=Oi._fromJSON(r,y),m!==u&&(l=b),u=m,o.abrupt("break",29);case 22:o.next=26;break;case 24:o.prev=24,o.t0=o.catch(13);case 26:f=!0,o.next=11;break;case 29:o.next=35;break;case 31:o.prev=31,o.t1=o.catch(9),p=!0,d=o.t1;case 35:o.prev=35,o.prev=36,f||null==h.return||h.return();case 38:if(o.prev=38,!p){o.next=41;break}throw d;case 41:return o.finish(38);case 42:return o.finish(35);case 43:if(k=s.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&k.length){o.next=46;break}return o.abrupt("return",new t(u,r,a));case 46:if(u=k[0],!l){o.next=50;break}return o.next=50,u._set(c,l.toJSON());case 50:return o.next=52,Promise.all(n.map(function(){var t=e(i)(e(g).mark((function t(r){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r===u){e.next=8;break}return e.prev=1,e.next=4,r._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()));case 52:return o.abrupt("return",new t(u,r,a));case 53:case"end":return o.stop()}}),o,null,[[9,31,35,43],[13,24],[36,,38,42]])})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ji(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hi(t))return"Blackberry";if(zi(t))return"Webos";if(Ui(t))return"Safari";if((t.includes("chrome/")||Fi(t))&&!t.includes("edge/"))return"Chrome";if(Bi(t))return"Android";var r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==r?void 0:r.length)?r[1]:"Other"}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/firefox\//i.test(e)}function Ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/crios\//i.test(e)}function Vi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/iemobile/i.test(e)}function Bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/android/i.test(e)}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/blackberry/i.test(e)}function zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/webos/i.test(e)}function Wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ki(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return Wi(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function qi(){return((e=de()).indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0)&&10===document.documentMode;var e}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return Wi(e)||Bi(e)||zi(e)||Hi(e)||/windows phone/i.test(e)||Vi(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ji(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Mi(de());break;case"Worker":t="".concat(Mi(de()),"-").concat(e);break;default:t=e}var n=r.length?r.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(St,"/").concat(n)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i=function(){"use strict";function t(r){e(s)(this,t),this.auth=r,this.queue=[]}return e(u)(t,[{key:"pushCallback",value:function(e,t){var r=this,n=function(t){return new Promise((function(r,n){try{r(e(t))}catch(e){n(e)}}))};n.onAbort=t,this.queue.push(n);var a=this.queue.length-1;return function(){r.queue[a]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,i,o,s,u,c,l,f,p,d,h,v,m;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:a=[],e.prev=3,i=!0,o=!1,s=void 0,e.prev=5,u=r.queue[Symbol.iterator]();case 7:if(i=(c=u.next()).done){e.next=15;break}return l=c.value,e.next=11,l(t);case 11:l.onAbort&&a.push(l.onAbort);case 12:i=!0,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),o=!0,s=e.t0;case 21:e.prev=21,e.prev=22,i||null==u.return||u.return();case 24:if(e.prev=24,!o){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:e.next=52;break;case 31:for(e.prev=31,e.t1=e.catch(3),a.reverse(),f=!0,p=!1,d=void 0,e.prev=35,h=a[Symbol.iterator]();!(f=(v=h.next()).done);f=!0){m=v.value;try{m()}catch(e){}}e.next=43;break;case 39:e.prev=39,e.t2=e.catch(35),p=!0,d=e.t2;case 43:e.prev=43,e.prev=44,f||null==h.return||h.return();case 46:if(e.prev=46,!p){e.next=49;break}throw d;case 49:return e.finish(46);case 50:return e.finish(43);case 51:throw r.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 52:case"end":return e.stop()}}),n,null,[[3,31],[5,17,21,29],[22,,24,28],[35,39,43,51],[44,,46,50]])})))()}}]),t}();function Xi(e){return Yi.apply(this,arguments)}function Yi(){return Yi=
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r){var n,a=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",Xa(r,"GET","/v2/passwordPolicy",$a(r,n)));case 2:case"end":return e.stop()}}),t)}))),Yi.apply(this,arguments)}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi=function(){"use strict";function t(r){var n,a,i,o;e(s)(this,t);var u=r.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=u.minPasswordLength)&&void 0!==n?n:6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),void 0!==u.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),void 0!==u.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),void 0!==u.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),void 0!==u.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=r.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(a=r.allowedNonAlphanumericCharacters)||void 0===a?void 0:a.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=r.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=r.schemaVersion}return e(u)(t,[{key:"validatePassword",value:function(e){var t,r,n,a,i,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(r=s.meetsMaxPasswordLength)||void 0===r||r),s.isValid&&(s.isValid=null===(n=s.containsLowercaseLetter)||void 0===n||n),s.isValid&&(s.isValid=null===(a=s.containsUppercaseLetter)||void 0===a||a),s.isValid&&(s.isValid=null===(i=s.containsNumericCharacter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,r,n,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}]),t}(),Zi=function(){"use strict";function t(r,n,a,i){e(s)(this,t),this.app=r,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new to(this),this.idTokenSubscription=new to(this),this.beforeStateQueue=new $i(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=i.sdkClientVersion}return e(u)(t,[{key:"_initializeWithPersistence",value:function(t,r){r&&(this._popupRedirectResolver=Ai(r));var n=this;return this._initializationPromise=this.queue(e(i)(e(g).mark((function a(){var i,o;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._deleted){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Di.create(n,t);case 5:if(n.persistenceManager=e.sent,!n._deleted){e.next=8;break}return e.abrupt("return");case 8:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){e.next=16;break}return e.prev=9,e.next=12,n._popupRedirectResolver._initialize(n);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:return e.next=18,n.initializeCurrentUser(r);case 18:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){e.next=21;break}return e.abrupt("return");case 21:n._isInitialized=!0;case 22:case"end":return e.stop()}}),a,null,[[9,14]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.assertedPersistence.getCurrentUser();case 4:if(n=e.sent,t.currentUser||n){e.next=7;break}return e.abrupt("return");case 7:if(!t.currentUser||!n||t.currentUser.uid!==n.uid){e.next=12;break}return t._currentUser._assign(n),e.next=11,t.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,t._updateCurrentUser(n,!0);case 14:case"end":return e.stop()}}),r)})))()}},{key:"initializeCurrentUser",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,i,o,s,u,c,l;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r.assertedPersistence.getCurrentUser();case 3:if(i=e.sent,o=i,s=!1,!t||!r.config.authDomain){e.next=15;break}return e.next=9,r.getOrInitRedirectPersistenceManager();case 9:return u=null===(a=r.redirectUser)||void 0===a?void 0:a._redirectEventId,c=null==o?void 0:o._redirectEventId,e.next=13,r.tryRedirectSignIn(t);case 13:l=e.sent,u&&u!==c||!(null==l?void 0:l.user)||(o=l.user,s=!0);case 15:if(o){e.next=17;break}return e.abrupt("return",r.directlySetCurrentUser(null));case 17:if(o._redirectEventId){e.next=33;break}if(!s){e.next=28;break}return e.prev=19,e.next=22,r.beforeStateQueue.runMiddleware(o);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(19),o=i,r._popupRedirectResolver._overrideRedirectResult(r,(function(){return Promise.reject(e.t0)}));case 28:if(!o){e.next=32;break}return e.abrupt("return",r.reloadAndSetCurrentUserOrClear(o));case 32:return e.abrupt("return",r.directlySetCurrentUser(null));case 33:return ja(r._popupRedirectResolver,r,"argument-error"),e.next=36,r.getOrInitRedirectPersistenceManager();case 36:if(!r.redirectUser||r.redirectUser._redirectEventId!==o._redirectEventId){e.next=38;break}return e.abrupt("return",r.directlySetCurrentUser(o));case 38:return e.abrupt("return",r.reloadAndSetCurrentUserOrClear(o));case 39:case"end":return e.stop()}}),n,null,[[19,24]])})))()}},{key:"tryRedirectSignIn",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,r._popupRedirectResolver._completeRedirectFn(r,t,!0);case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,r._setRedirectUser(null);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),n,null,[[1,7]])})))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(t){var r=this;return e(i)(e(g).mark((function n(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ki(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"auth/network-request-failed"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=9;break}return e.abrupt("return",r.directlySetCurrentUser(null));case 9:return e.abrupt("return",r.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),n,null,[[0,5]])})))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var t=this;return e(i)(e(g).mark((function r(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._deleted=!0;case 1:case"end":return e.stop()}}),r)})))()}},{key:"updateCurrentUser",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t?Re(t):null)&&ja(a.auth.config.apiKey===r.config.apiKey,r,"invalid-user-token"),e.abrupt("return",r._updateCurrentUser(a&&a._clone(r)));case 3:case"end":return e.stop()}}),n)})))()}},{key:"_updateCurrentUser",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(i)(e(g).mark((function a(){return e(g).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n._deleted){a.next=2;break}return a.abrupt("return");case 2:if(t&&ja(n.tenantId===t.tenantId,n,"tenant-id-mismatch"),r){a.next=6;break}return a.next=6,n.beforeStateQueue.runMiddleware(t);case 6:return a.abrupt("return",n.queue(e(i)(e(g).mark((function r(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),r)})))));case 7:case"end":return a.stop()}}),a)})))()}},{key:"signOut",value:function(){var t=this;return e(i)(e(g).mark((function r(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeStateQueue.runMiddleware(null);case 2:if(!t.redirectPersistenceManager&&!t._popupRedirectResolver){e.next=5;break}return e.next=5,t._setRedirectUser(null);case 5:return e.abrupt("return",t._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),r)})))()}},{key:"setPersistence",value:function(t){var r=this;return this.queue(e(i)(e(g).mark((function n(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.assertedPersistence.setPersistence(Ai(t));case 2:case"end":return e.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,r._updatePasswordPolicy();case 3:if((a=r._getPasswordPolicyInternal()).schemaVersion===r.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(r._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",a.validatePassword(t));case 7:case"end":return e.stop()}}),n)})))()}},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n,a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(t);case 2:n=e.sent,a=new Qi(n),null===t.tenantId?t._projectPasswordPolicy=a:t._tenantPasswordPolicies[t.tenantId]=a;case 5:case"end":return e.stop()}}),r)})))()}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new be("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,r){if(e.currentUser)t();else var n=e.onAuthStateChanged((function(){n(),t()}),r)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(t,r){var n=this;return e(i)(e(g).mark((function a(){var i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getOrInitRedirectPersistenceManager(r);case 2:return i=e.sent,e.abrupt("return",null===t?i.removeCurrentUser():i.setCurrentUser(t));case 4:case"end":return e.stop()}}),a)})))()}},{key:"getOrInitRedirectPersistenceManager",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.redirectPersistenceManager){e.next=9;break}return ja(a=t&&Ai(t)||r._popupRedirectResolver,r,"argument-error"),e.next=5,Di.create(r,[Ai(a._redirectPersistence)],"redirectUser");case 5:return r.redirectPersistenceManager=e.sent,e.next=8,r.redirectPersistenceManager.getCurrentUser();case 8:r.redirectUser=e.sent;case 9:return e.abrupt("return",r.redirectPersistenceManager);case 10:case"end":return e.stop()}}),n)})))()}},{key:"_redirectUserForId",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,o;return e(g).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._isInitialized){n.next=4;break}return n.next=4,r.queue(e(i)(e(g).mark((function t(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),t)}))));case 4:if((null===(a=r._currentUser)||void 0===a?void 0:a._redirectEventId)!==t){n.next=6;break}return n.abrupt("return",r._currentUser);case 6:if((null===(o=r.redirectUser)||void 0===o?void 0:o._redirectEventId)!==t){n.next=8;break}return n.abrupt("return",r.redirectUser);case 8:return n.abrupt("return",null);case 9:case"end":return n.stop()}}),n)})))()}},{key:"_persistUserIfCurrent",value:function(t){var r=this;return e(i)(e(g).mark((function n(){return e(g).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==r.currentUser){n.next=2;break}return n.abrupt("return",r.queue(e(i)(e(g).mark((function n(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),n)})))));case 2:case"end":return n.stop()}}),n)})))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,r,n){var a=this;if(this._deleted)return function(){};var i="function"==typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ja(s,this,"internal-error"),s.then((function(){o||i(a.currentUser)})),"function"==typeof t){var u=e.addObserver(t,r,n);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(t){var r=this;return e(i)(e(g).mark((function n(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.currentUser&&r.currentUser!==t&&r._currentUser._stopProactiveRefresh(),t&&r.isProactiveRefreshEnabled&&t._startProactiveRefresh(),r.currentUser=t,!t){e.next=8;break}return e.next=6,r.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,r.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),n)})))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ja(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ji(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n,a,i,o;return e(g).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e(l)({},"X-Client-Version",t.clientVersion),t.app.options.appId&&(a["X-Firebase-gmpid"]=t.app.options.appId),r.next=5,null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();case 5:return(i=r.sent)&&(a["X-Firebase-Client"]=i),r.next=9,t._getAppCheckToken();case 9:return(o=r.sent)&&(a["X-Firebase-AppCheck"]=o),r.abrupt("return",a);case 12:case"end":return r.stop()}}),r)})))()}},{key:"_getAppCheckToken",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n,a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,null===(n=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();case 3:return(null==(a=e.sent)?void 0:a.error)&&Aa("Error while retrieving App Check token: ".concat(a.error)),e.abrupt("return",null==a?void 0:a.token);case 6:case"end":return e.stop()}}),r)})))()}}]),t}();function eo(e){return Re(e)}var to=function(){"use strict";function t(r){var n,a,i=this;e(s)(this,t),this.auth=r,this.observer=null,this.addObserver=(a=new Ce((function(e){return i.observer=e}),n)).subscribe.bind(a)}return e(u)(t,[{key:"next",get:function(){return ja(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(e){return new Promise((function(t,r){var n,a,i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=function(e){var t=La("internal-error");t.customData=e,r(t)},i.type="text/javascript",i.charset="UTF-8",(null!==(a=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==a?a:document).appendChild(i)}))}function no(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ao="https://www.google.com/recaptcha/enterprise.js?render=",io="NO_RECAPTCHA",oo=function(){"use strict";function t(r){e(s)(this,t),this.type="recaptcha-enterprise",this.auth=eo(r)}return e(u)(t,[{key:"verify",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(i)(e(g).mark((function a(){var o,s,u;return e(g).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=function(e){return s.apply(this,arguments)},s=function(){return s=e(i)(e(g).mark((function t(n){return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=5;break}if(null!=n.tenantId||null==n._agentRecaptchaConfig){t.next=3;break}return t.abrupt("return",n._agentRecaptchaConfig.siteKey);case 3:if(null==n.tenantId||void 0===n._tenantRecaptchaConfigs[n.tenantId]){t.next=5;break}return t.abrupt("return",n._tenantRecaptchaConfigs[n.tenantId].siteKey);case 5:return t.abrupt("return",new Promise(function(){var t=e(i)(e(g).mark((function t(r,a){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ii(n,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var t=new Ta(e);return null==n.tenantId?n._agentRecaptchaConfig=t:n._tenantRecaptchaConfigs[n.tenantId]=t,r(t.siteKey)}a(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){a(e)}));case 1:case"end":return e.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)},u=function(e,r,n){var a=window.grecaptcha;Ea(a)?a.enterprise.ready((function(){a.enterprise.execute(e,{action:t}).then((function(e){r(e)})).catch((function(){r(io)}))})):n(Error("No reCAPTCHA enterprise script loaded."))},a.abrupt("return",new Promise((function(e,t){o(n.auth).then((function(n){if(!r&&Ea(window.grecaptcha))u(n,e,t);else{if("undefined"==typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));ro(ao+n).then((function(){u(n,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 7:case"end":return a.stop()}}),a)})))()}}]),t}();function so(e,t,r){return uo.apply(this,arguments)}function uo(){return uo=e(i)(e(g).mark((function t(r,n,a){var i,o,s,u,c=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],o=new oo(r),e.prev=3,e.next=6,o.verify(a);case 6:s=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),e.next=13,o.verify(a,!0);case 13:s=e.sent;case 14:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 19:case"end":return e.stop()}}),t,null,[[3,9]])}))),uo.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function co(e,t){var r=xt(e,"auth");if(r.isInitialized()){var n=r.getImmediate();if(xe(r.getOptions(),null!=t?t:{}))return n;Na(n,"already-initialized")}return r.initialize({options:t})}function lo(t,r,n){var a=eo(t);ja(a._canInitEmulator,a,"emulator-config-failed"),ja(/^https?:\/\//.test(r),a,"invalid-emulator-scheme");var i=!!(null==n?void 0:n.disableWarnings),o=fo(r),s=function(t){var r=fo(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(r.length));if(!n)return{host:"",port:null};var a=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){var o=i[1];return{host:o,port:po(a.substr(o.length+1))}}var s=e(b)(a.split(":"),2);return{host:s[0],port:po(s[1])}}(r),u=s.host,c=s.port,l=null===c?"":":".concat(c);a.config.emulator={url:"".concat(o,"//").concat(u).concat(l,"/")},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function fo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function po(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ho=function(){"use strict";function t(r,n){e(s)(this,t),this.providerId=r,this.signInMethod=n}return e(u)(t,[{key:"toJSON",value:function(){return Ua("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ua("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ua("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ua("not implemented")}}]),t}();function vo(e,t){return mo.apply(this,arguments)}function mo(){return(mo=e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(r,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function go(e,t){return yo.apply(this,arguments)}function yo(){return(yo=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ei(r,"POST","/v1/accounts:signInWithPassword",$a(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function bo(e,t){return ko.apply(this,arguments)}function ko(){return(ko=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ei(r,"POST","/v1/accounts:signInWithEmailLink",$a(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function wo(e,t){return _o.apply(this,arguments)}function _o(){return(_o=e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ei(r,"POST","/v1/accounts:signInWithEmailLink",$a(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t,a,i){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e(s)(this,n),(o=r.call(this,"password",i))._email=t,o._password=a,o._tenantId=u,o}return e(u)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,o,s;return e(g).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=r.signInMethod,n.next="password"===n.t0?4:"emailLink"===n.t0?13:14;break;case 4:if(o={returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.emailPasswordEnabled)){n.next=12;break}return n.next=8,so(t,o,"signInWithPassword");case 8:return s=n.sent,n.abrupt("return",go(t,s));case 12:return n.abrupt("return",go(t,o).catch(function(){var r=e(i)(e(g).mark((function r(n){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("auth/missing-recaptcha-token"!==n.code){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,so(t,o,"signInWithPassword");case 4:return a=e.sent,e.abrupt("return",go(t,a));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()));case 13:return n.abrupt("return",bo(t,{email:r._email,oobCode:r._password}));case 14:Na(t,"internal-error");case 15:case"end":return n.stop()}}),n)})))()}},{key:"_linkToIdToken",value:function(t,r){var n=this;return e(i)(e(g).mark((function a(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vo(t,{idToken:r,returnSecureToken:!0,email:n._email,password:n._password}));case 4:return e.abrupt("return",wo(t,{idToken:r,email:n._email,oobCode:n._password}));case 5:Na(t,"internal-error");case 6:case"end":return e.stop()}}),a)})))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ho);function Io(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ei(r,"POST","/v1/accounts:signInWithIdp",$a(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){var t;return e(s)(this,n),(t=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).pendingToken=null,t}return e(u)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Io(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var r=this.buildRequest();return r.idToken=t,Io(e,r)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Io(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ee(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Na("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,a=t.signInMethod,i=Ia(t,["providerId","signInMethod"]);if(!r||!a)return null;var o=new n(r,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}}]),n}(ho);function So(e,t){return Co.apply(this,arguments)}function Co(){return(Co=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(r,"POST","/v1/accounts:sendVerificationCode",$a(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Oo(){return(Oo=e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ei(r,"POST","/v1/accounts:signInWithPhoneNumber",$a(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Po(){return(Po=e(i)(e(g).mark((function t(r,n){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(r,"POST","/v1/accounts:signInWithPhoneNumber",$a(r,n));case 2:if(!(a=e.sent).temporaryProof){e.next=5;break}throw ai(r,"account-exists-with-different-credential",a);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var Ao=e(l)({},"USER_NOT_FOUND","user-not-found");function Ro(){return(Ro=e(i)(e(g).mark((function t(r,n){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ei(r,"POST","/v1/accounts:signInWithPhoneNumber",$a(r,a),Ao));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t){var a;return e(s)(this,n),(a=r.call(this,"phone","phone")).params=t,a}return e(u)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Oo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Po.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ro.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,r=e.phoneNumber,n=e.verificationId,a=e.verificationCode;return t&&r?{temporaryProof:t,phoneNumber:r}:{sessionInfo:n,code:a}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e.verificationId,r=e.verificationCode,a=e.phoneNumber,i=e.temporaryProof;return r||t||a||i?new n({verificationId:t,verificationCode:r,phoneNumber:a,temporaryProof:i}):null}}]),n}(ho);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo=function(){"use strict";function t(r){var n,a,i,o,u,c;e(s)(this,t);var l=Te(Se(r)),f=null!==(n=l.apiKey)&&void 0!==n?n:null,p=null!==(a=l.oobCode)&&void 0!==a?a:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);ja(f&&p&&d,"argument-error"),this.apiKey=f,this.operation=d,this.code=p,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(u=l.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(c=l.tenantId)&&void 0!==c?c:null}return e(u)(t,null,[{key:"parseLink",value:function(e){var r=function(e){var t=Te(Se(e)).link,r=t?Te(Se(t)).deep_link_id:null,n=Te(Se(e)).deep_link_id;return(n?Te(Se(n)).link:null)||n||r||t||e}(e);try{return new t(r)}catch(e){return null}}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Do=function(){"use strict";function t(){e(s)(this,t),this.providerId=t.PROVIDER_ID}return e(u)(t,null,[{key:"credential",value:function(e,t){return xo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var r=Lo.parseLink(t);return ja(r,"argument-error"),xo._fromEmailAndCode(e,r.code,r.tenantId)}}]),t}();Do.PROVIDER_ID="password",Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Mo=function(){"use strict";function t(r){e(s)(this,t),this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}return e(u)(t,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),t}(),jo=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){var t;return e(s)(this,n),(t=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).scopes=[],t}return e(u)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return e(f)(this.scopes)}}]),n}(Mo),Uo=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){return e(s)(this,n),r.call(this,"facebook.com")}return e(u)(n,null,[{key:"credential",value:function(e){return To._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(e){return null}}}]),n}(jo);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Uo.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fo=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){var t;return e(s)(this,n),(t=r.call(this,"google.com")).addScope("profile"),t}return e(u)(n,null,[{key:"credential",value:function(e,t){return To._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,a=t.oauthAccessToken;if(!r&&!a)return null;try{return n.credential(r,a)}catch(e){return null}}}]),n}(jo);Fo.GOOGLE_SIGN_IN_METHOD="google.com",Fo.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vo=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){return e(s)(this,n),r.call(this,"github.com")}return e(u)(n,null,[{key:"credential",value:function(e){return To._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(e){return null}}}]),n}(jo);Vo.GITHUB_SIGN_IN_METHOD="github.com",Vo.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Bo=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){return e(s)(this,n),r.call(this,"twitter.com")}return e(u)(n,null,[{key:"credential",value:function(e,t){return To._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,a=t.oauthTokenSecret;if(!r||!a)return null;try{return n.credential(r,a)}catch(e){return null}}}]),n}(jo);Bo.TWITTER_SIGN_IN_METHOD="twitter.com",Bo.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ho=function(){"use strict";function t(r){e(s)(this,t),this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}return e(u)(t,null,[{key:"_fromIdTokenResponse",value:function(r,n,a){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e(i)(e(g).mark((function i(){var s,u,c;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi._fromIdTokenResponse(r,a,o);case 2:return s=e.sent,u=zo(a),c=new t({user:s,providerId:u,_tokenResponse:a,operationType:n}),e.abrupt("return",c);case 6:case"end":return e.stop()}}),i)})))()}},{key:"_forOperation",value:function(r,n,a){return e(i)(e(g).mark((function i(){var o;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._updateTokensIfNecessary(a,!0);case 2:return o=zo(a),e.abrupt("return",new t({user:r,providerId:o,_tokenResponse:a,operationType:n}));case 4:case"end":return e.stop()}}),i)})))()}}]),t}();function zo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wo=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t,a,i,o){var u,c;return e(s)(this,n),(u=r.call(this,a.code,a.message)).operationType=i,u.user=o,Object.setPrototypeOf(e(E)(u),n.prototype),u.customData={appName:t.name,tenantId:null!==(c=t.tenantId)&&void 0!==c?c:void 0,_serverResponse:a.customData._serverResponse,operationType:i},u}return e(u)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,a){return new n(e,t,r,a)}}]),n}(ye);function Ko(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch((function(r){if("auth/multi-factor-auth-required"===r.code)throw Wo._fromErrorAndOperation(e,r,t,n);throw r}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e,t){return Go.apply(this,arguments)}function Go(){return Go=e(i)(e(g).mark((function t(r,n){var a,i,o=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]&&o[2],e.t0=vi,e.t1=r,e.t2=n,e.t3=r.auth,e.next=7,r.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=a,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ho._forOperation(r,"link",i));case 14:case"end":return e.stop()}}),t)}))),Go.apply(this,arguments)}function Jo(e,t){return $o.apply(this,arguments)}function $o(){return $o=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){var a,i,o,s,u,c,l=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]&&l[2],i=r.auth,o="reauthenticate",e.prev=3,e.next=6,vi(r,Ko(i,o,n,r),a);case 6:return ja((s=e.sent).idToken,i,"internal-error"),ja(u=hi(s.idToken),i,"internal-error"),c=u.sub,ja(r.uid===c,i,"user-mismatch"),e.abrupt("return",Ho._forOperation(r,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),"auth/user-not-found"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&Na(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),t,null,[[3,15]])}))),$o.apply(this,arguments)}function Xo(e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r,n){var a,i,o,s,u=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ko(r,i,n);case 4:return o=e.sent,e.next=7,Ho._fromIdTokenResponse(r,i,o);case 7:if(s=e.sent,a){e.next=11;break}return e.next=11,r._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),t)}))),Yo.apply(this,arguments)}function Qo(e,t){return Zo.apply(this,arguments)}function Zo(){return(Zo=e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(eo(r),n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function es(e){return ts.apply(this,arguments)}function ts(){return(ts=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=eo(r))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function rs(t,r,n){return Qo(Re(t),Do.credential(r,n)).catch((a=e(i)(e(g).mark((function r(n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw"auth/password-does-not-meet-requirements"===n.code&&es(t),n;case 2:case"end":return e.stop()}}),r)}))),function(e){return a.apply(this,arguments)}));var a}function ns(e,t,r,n){return Re(e).onIdTokenChanged(t,r,n)}function as(e,t,r){return Re(e).beforeAuthStateChanged(t,r)}function is(e){return Re(e).signOut()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function os(e,t){return Xa(e,"POST","/v2/accounts/mfaEnrollment:start",$a(e,t))}function ss(e,t){return Xa(e,"POST","/v2/accounts/mfaEnrollment:finalize",$a(e,t))}new WeakMap;var us="__sak",cs=function(){"use strict";function t(r,n){e(s)(this,t),this.storageRetriever=r,this.type=n}return e(u)(t,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){var t,a;return e(s)(this,n),(t=r.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(e,r){return t.onStorageEvent(e,r)},t.listeners={},t.localCache={},t.pollTimer=null,t.safariLocalStorageNotSynced=(Ui(a=de())||Wi(a))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),t.fallbackToPolling=Gi(),t._shouldAllowMigration=!0,t}return e(u)(n,[{key:"forAllChangedKeys",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=Object.keys(this.listeners)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s=this.storage.getItem(o),u=this.localCache[o];s!==u&&e(o,u,s)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"onStorageEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;if(e.key){var n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(n);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}var i=function(){var e=r.storage.getItem(n);(t||r.localCache[n]!==e)&&r.notifyListeners(n,e)},o=this.storage.getItem(n);qi()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}else{var s=this;this.forAllChangedKeys((function(e,t,r){s.notifyListeners(e,r)}))}}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e],n=!0,a=!1,i=void 0;if(r)try{for(var o,s=Array.from(r)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){(0,o.value)(t?JSON.parse(t):t)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){var t=e;e.forAllChangedKeys((function(e,r,n){t.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(t,r){var a=this,o=this;return e(i)(e(g).mark((function i(){return e(g).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e(ka)(e(xa)(n.prototype),"_set",a).call(o,t,r);case 2:o.localCache[t]=JSON.stringify(r);case 3:case"end":return i.stop()}}),i)})))()}},{key:"_get",value:function(t){var r=this,a=this;return e(i)(e(g).mark((function i(){var o;return e(g).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e(ka)(e(xa)(n.prototype),"_get",r).call(a,t);case 2:return o=i.sent,a.localCache[t]=JSON.stringify(o),i.abrupt("return",o);case 5:case"end":return i.stop()}}),i)})))()}},{key:"_remove",value:function(t){var r=this,a=this;return e(i)(e(g).mark((function i(){return e(g).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e(ka)(e(xa)(n.prototype),"_remove",r).call(a,t);case 2:delete a.localCache[t];case 3:case"end":return i.stop()}}),i)})))()}}]),n}(cs);ls.type="LOCAL";var fs=ls,ps=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(){return e(s)(this,n),r.call(this,(function(){return window.sessionStorage}),"SESSION")}return e(u)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(cs);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps.type="SESSION";var ds=ps;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){return Promise.all(t.map((r=e(i)(e(g).mark((function t(r){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),t,null,[[0,7]])}))),function(e){return r.apply(this,arguments)})));var r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs=function(){"use strict";function t(r){e(s)(this,t),this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return e(u)(t,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,o,s,u,c,l,f,p;return e(g).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(a=t).data,s=o.eventId,u=o.eventType,c=o.data,null==(l=r.handlersMap[u])?void 0:l.size){n.next=5;break}return n.abrupt("return");case 5:return a.ports[0].postMessage({status:"ack",eventId:s,eventType:u}),f=Array.from(l).map(function(){var t=e(i)(e(g).mark((function t(r){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(a.origin,c));case 1:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.next=9,hs(f);case 9:p=n.sent,a.ports[0].postMessage({status:"done",eventId:s,eventType:u,response:p});case 11:case"end":return n.stop()}}),n)})))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(e){var r=this.receivers.find((function(t){return t.isListeningto(e)}));if(r)return r;var n=new t(e);return this.receivers.push(n),n}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ms(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="",n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs.receivers=[];var gs=function(){"use strict";function t(r){e(s)(this,t),this.target=r,this.handlers=new Set}return e(u)(t,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=this;return e(i)(e(g).mark((function i(){var o,s,u;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="undefined"!=typeof MessageChannel?new MessageChannel:null){e.next=3;break}throw new Error("connection_unavailable");case 3:return e.abrupt("return",new Promise((function(e,i){var c=ms("",20);o.port1.start();var l=setTimeout((function(){i(new Error("unsupported_event"))}),n);u={messageChannel:o,onMessage:function(t){var r=t;if(r.data.eventId===c)switch(r.data.status){case"ack":clearTimeout(l),s=setTimeout((function(){i(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),e(r.data.response);break;default:clearTimeout(l),clearTimeout(s),i(new Error("invalid_response"))}}},a.handlers.add(u),o.port1.addEventListener("message",u.onMessage),a.target.postMessage({eventType:t,eventId:c,data:r},[o.port2])})).finally((function(){u&&a.removeMessageHandler(u)})));case 6:case"end":return e.stop()}}),i)})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function bs(e){ys().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return void 0!==ys().WorkerGlobalScope&&"function"==typeof ys().importScripts}function ws(){return _s.apply(this,arguments)}function _s(){return(_s=e(i)(e(g).mark((function t(){var r;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return r=e.sent,e.abrupt("return",r.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xs="firebaseLocalStorageDb",Is="firebaseLocalStorage",Es="fbase_key",Ts=function(){"use strict";function t(r){e(s)(this,t),this.request=r}return e(u)(t,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,r){var n=e;e.request.addEventListener("success",(function(){t(n.request.result)})),e.request.addEventListener("error",(function(){r(n.request.error)}))}))}}]),t}();function Ss(e,t){return e.transaction([Is],t?"readwrite":"readonly").objectStore(Is)}function Cs(){var e=indexedDB.deleteDatabase(xs);return new Ts(e).toPromise()}function Os(){var t=indexedDB.open(xs,1);return new Promise((function(r,n){t.addEventListener("error",(function(){n(t.error)})),t.addEventListener("upgradeneeded",(function(){var e=t.result;try{e.createObjectStore(Is,{keyPath:Es})}catch(e){n(e)}})),t.addEventListener("success",e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.result).objectStoreNames.contains(Is)){e.next=12;break}return a.close(),e.next=5,Cs();case 5:return e.t0=r,e.next=8,Os();case 8:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 12:r(a);case 13:case"end":return e.stop()}}),n)}))))}))}function Ps(e,t,r){return As.apply(this,arguments)}function As(){return(As=e(i)(e(g).mark((function t(r,n,a){var i,o;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Ss(r,!0).put((i={},e(l)(i,Es,n),e(l)(i,"value",a),i)),t.abrupt("return",new Ts(o).toPromise());case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rs(e,t){return Ns.apply(this,arguments)}function Ns(){return(Ns=e(i)(e(g).mark((function t(r,n){var a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ss(r,!1).get(n),e.next=3,new Ts(a).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ls(e,t){var r=Ss(e,!0).delete(t);return new Ts(r).toPromise()}var Ds=function(){"use strict";function t(){e(s)(this,t),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return e(u)(t,[{key:"_openDb",value:function(){var t=this;return e(i)(e(g).mark((function r(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.db){e.next=2;break}return e.abrupt("return",t.db);case 2:return e.next=4,Os();case 4:return t.db=e.sent,e.abrupt("return",t.db);case 6:case"end":return e.stop()}}),r)})))()}},{key:"_withRetries",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:return e.prev=2,e.next=5,r._openDb();case 5:return i=e.sent,e.next=8,t(i);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(a++>3)){e.next=15;break}throw e.t0;case 15:r.db&&(r.db.close(),r.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),n,null,[[2,11]])})))()}},{key:"initializeServiceWorkerMessaging",value:function(){var t=this;return e(i)(e(g).mark((function r(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks()?t.initializeReceiver():t.initializeSender());case 1:case"end":return e.stop()}}),r)})))()}},{key:"initializeReceiver",value:function(){var t=this;return e(i)(e(g).mark((function r(){return e(g).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.receiver=vs._getInstance(ks()?self:null),t.receiver._subscribe("keyChanged",function(){var r=e(i)(e(g).mark((function r(n,a){var i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(a.key)});case 4:case"end":return e.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=e(i)(e(g).mark((function t(r,n){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()}},{key:"initializeSender",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n,a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,ws();case 3:if(t.activeServiceWorker=e.sent,t.activeServiceWorker){e.next=6;break}return e.abrupt("return");case 6:return t.sender=new gs(t.activeServiceWorker),e.next=9,t.sender._send("ping",{},800);case 9:if(i=e.sent){e.next=12;break}return e.abrupt("return");case 12:(null===(n=i[0])||void 0===n?void 0:n.fulfilled)&&(null===(a=i[0])||void 0===a?void 0:a.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0);case 13:case"end":return e.stop()}}),r)})))()}},{key:"notifyServiceWorker",value:function(t){var r=this;return e(i)(e(g).mark((function n(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.sender&&r.activeServiceWorker&&(n=void 0,((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===r.activeServiceWorker)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}var n}),n,null,[[2,7]])})))()}},{key:"_isAvailable",value:function(){return e(i)(e(g).mark((function t(){var r;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Os();case 5:return r=e.sent,e.next=8,Ps(r,us,"1");case 8:return e.next=10,Ls(r,us);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),t,null,[[0,13]])})))()}},{key:"_withPendingWrite",value:function(t){var r=this;return e(i)(e(g).mark((function n(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,r.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),n,null,[[1,,4,7]])})))()}},{key:"_set",value:function(t,r){var n=this;return e(i)(e(g).mark((function a(){return e(g).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n._withPendingWrite(e(i)(e(g).mark((function a(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ps(e,t,r)}));case 2:return n.localCache[t]=r,e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),a)})))));case 1:case"end":return a.stop()}}),a)})))()}},{key:"_get",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Rs(e,t)}));case 2:return a=e.sent,r.localCache[t]=a,e.abrupt("return",a);case 5:case"end":return e.stop()}}),n)})))()}},{key:"_remove",value:function(t){var r=this;return e(i)(e(g).mark((function n(){return e(g).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r._withPendingWrite(e(i)(e(g).mark((function n(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ls(e,t)}));case 2:return delete r.localCache[t],e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),n)})))));case 1:case"end":return n.stop()}}),n)})))()}},{key:"_poll",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n,a,i,o,s,u,c,l,f,p,d,h,v,m,y,b,k;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._withRetries((function(e){var t=Ss(e,!1).getAll();return new Ts(t).toPromise()}));case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===t.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:for(a=[],i=new Set,o=!0,s=!1,u=void 0,e.prev=10,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)f=l.value,p=f.fbase_key,d=f.value,i.add(p),JSON.stringify(t.localCache[p])!==JSON.stringify(d)&&(t.notifyListeners(p,d),a.push(p));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),s=!0,u=e.t0;case 18:e.prev=18,e.prev=19,o||null==c.return||c.return();case 21:if(e.prev=21,!s){e.next=24;break}throw u;case 24:return e.finish(21);case 25:return e.finish(18);case 26:for(h=!0,v=!1,m=void 0,e.prev=27,y=Object.keys(t.localCache)[Symbol.iterator]();!(h=(b=y.next()).done);h=!0)k=b.value,t.localCache[k]&&!i.has(k)&&(t.notifyListeners(k,null),a.push(k));e.next=35;break;case 31:e.prev=31,e.t1=e.catch(27),v=!0,m=e.t1;case 35:e.prev=35,e.prev=36,h||null==y.return||y.return();case 38:if(e.prev=38,!v){e.next=41;break}throw m;case 41:return e.finish(38);case 42:return e.finish(35);case 43:return e.abrupt("return",a);case 44:case"end":return e.stop()}}),r,null,[[10,14,18,26],[19,,21,25],[27,31,35,43],[36,,38,42]])})))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e],n=!0,a=!1,i=void 0;if(r)try{for(var o,s=Array.from(r)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){(0,o.value)(t)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}},{key:"startPolling",value:function(){this.stopPolling();var t=this;this.pollTimer=setInterval(e(i)(e(g).mark((function r(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._poll());case 1:case"end":return e.stop()}}),r)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),t}();Ds.type="LOCAL";var Ms=Ds;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(e,t){return Xa(e,"POST","/v2/accounts/mfaSignIn:start",$a(e,t))}function Us(e,t){return Xa(e,"POST","/v2/accounts/mfaSignIn:finalize",$a(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
no("rcb"),new za(3e4,6e4);var Fs="recaptcha";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(e,t,r){return Bs.apply(this,arguments)}function Bs(){return(Bs=e(i)(e(g).mark((function t(r,n,a){var i,o,s,u,c,l,f,p;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,a.verify();case 3:if(o=e.sent,e.prev=4,ja("string"==typeof o,r,"argument-error"),ja(a.type===Fs,r,"argument-error"),!("session"in(s="string"==typeof n?{phoneNumber:n}:n))){e.next=28;break}if(u=s.session,!("phoneNumber"in s)){e.next=19;break}return ja("enroll"===u.type,r,"internal-error"),e.next=15,os(r,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:o}});case 15:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 19:return ja("signin"===u.type,r,"internal-error"),ja(l=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid,r,"missing-multi-factor-info"),e.next=24,js(r,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 24:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 26:e.next=32;break;case 28:return e.next=30,So(r,{phoneNumber:s.phoneNumber,recaptchaToken:o});case 30:return p=e.sent.sessionInfo,e.abrupt("return",p);case 32:return e.prev=32,a._reset(),e.finish(32);case 35:case"end":return e.stop()}}),t,null,[[4,,32,35]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hs=function(){"use strict";function t(r){e(s)(this,t),this.providerId=t.PROVIDER_ID,this.auth=eo(r)}return e(u)(t,[{key:"verifyPhoneNumber",value:function(e,t){return Vs(this.auth,e,Re(t))}}],[{key:"credential",value:function(e,t){return No._fromVerification(e,t)}},{key:"credentialFromResult",value:function(e){var r=e;return t.credentialFromTaggedObject(r)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.phoneNumber,n=t.temporaryProof;return r&&n?No._fromTokenResponse(r,n):null}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zs(e,t){return t?Ai(t):(ja(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs.PROVIDER_ID="phone",Hs.PHONE_SIGN_IN_METHOD="phone";var Ws=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t){var a;return e(s)(this,n),(a=r.call(this,"custom","custom")).params=t,a}return e(u)(n,[{key:"_getIdTokenResponse",value:function(e){return Io(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Io(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Io(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ho);function Ks(e){return Xo(e.auth,new Ws(e),e.bypassAuthState)}function qs(e){var t=e.auth,r=e.user;return ja(r,t,"internal-error"),Jo(r,new Ws(e),e.bypassAuthState)}function Gs(e){return Js.apply(this,arguments)}function Js(){return(Js=e(i)(e(g).mark((function t(r){var n,a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.auth,ja(a=r.user,n,"internal-error"),e.abrupt("return",qo(a,new Ws(r),r.bypassAuthState));case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $s=function(){"use strict";function t(r,n,a,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e(s)(this,t),this.auth=r,this.resolver=a,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return e(u)(t,[{key:"execute",value:function(){var t,r=this;return new Promise((t=e(i)(e(g).mark((function t(n,a){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pendingPromise={resolve:n,reject:a},e.prev=1,e.next=4,r.resolver._initialize(r.auth);case 4:return r.eventManager=e.sent,e.next=7,r.onExecution();case 7:r.eventManager.registerConsumer(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r.reject(e.t0);case 13:case"end":return e.stop()}}),t,null,[[1,10]])}))),function(e,r){return t.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,i,o,s,u,c,l;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.urlResponse,i=t.sessionId,o=t.postBody,s=t.tenantId,u=t.error,c=t.type,!u){e.next=4;break}return r.reject(u),e.abrupt("return");case 4:return l={auth:r.auth,requestUri:a,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:r.user,bypassAuthState:r.bypassAuthState},e.prev=5,e.t0=r,e.next=9,r.getIdpTask(c)(l);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),r.reject(e.t2);case 16:case"end":return e.stop()}}),n,null,[[5,13]])})))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ks;case"linkViaPopup":case"linkViaRedirect":return Gs;case"reauthViaPopup":case"reauthViaRedirect":return qs;default:Na(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),t}(),Xs=new za(2e3,1e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t,a,i,o,u){var c;return e(s)(this,n),(c=r.call(this,t,a,o,u)).provider=i,c.authWindow=null,c.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=e(E)(c),c}return e(u)(n,[{key:"executeNotNull",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.execute();case 2:return ja(n=e.sent,t.auth,"internal-error"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),r)})))()}},{key:"onExecution",value:function(){var t=this;return e(i)(e(g).mark((function r(){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fa(1===t.filter.length,"Popup operations only handle one event"),n=ms(),e.next=4,t.resolver._openPopup(t.auth,t.provider,t.filter[0],n);case 4:t.authWindow=e.sent,t.authWindow.associatedEvent=n,t.resolver._originValidation(t.auth).catch((function(e){t.reject(e)})),t.resolver._isIframeWebStorageSupported(t.auth,(function(e){e||t.reject(La(t.auth,"web-storage-unsupported"))})),t.pollUserCancellation();case 9:case"end":return e.stop()}}),r)})))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(La(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function(){var r,n;if(null===(n=null===(r=e.authWindow)||void 0===r?void 0:r.window)||void 0===n?void 0:n.closed){var a=e;e.pollId=window.setTimeout((function(){a.pollId=null,a.reject(La(a.auth,"popup-closed-by-user"))}),8e3)}else e.pollId=window.setTimeout(t,Xs.get())};t()}}]),n}($s);Ys.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qs=new Map,Zs=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t,a){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(s)(this,n),(i=r.call(this,t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,o)).eventId=null,i}return e(u)(n,[{key:"execute",value:function(){var t=this,r=this;return e(i)(e(g).mark((function a(){var i,o;return e(g).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=Qs.get(r.auth._key())){a.next=21;break}return a.prev=2,a.next=5,eu(r.resolver,r.auth);case 5:if(!a.sent){a.next=12;break}return a.next=9,e(ka)(e(xa)(n.prototype),"execute",t).call(r);case 9:a.t0=a.sent,a.next=13;break;case 12:a.t0=null;case 13:o=a.t0,i=function(){return Promise.resolve(o)},a.next=20;break;case 17:a.prev=17,a.t1=a.catch(2),i=function(){return Promise.reject(a.t1)};case 20:Qs.set(r.auth._key(),i);case 21:return r.bypassAuthState||Qs.set(r.auth._key(),(function(){return Promise.resolve(null)})),a.abrupt("return",i());case 23:case"end":return a.stop()}}),a,null,[[2,17]])})))()}},{key:"onAuthEvent",value:function(t){var r=this,a=this,o=function(){return e(ka)(e(xa)(n.prototype),"onAuthEvent",r)};return e(i)(e(g).mark((function r(){var n;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",o().call(a,t));case 4:if("unknown"!==t.type){e.next=7;break}return a.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,a.auth._redirectUserForId(t.eventId);case 10:if(!(n=e.sent)){e.next=16;break}return a.user=n,e.abrupt("return",o().call(a,t));case 16:a.resolve(null);case 17:case"end":return e.stop()}}),r)})))()}},{key:"onExecution",value:function(){return e(i)(e(g).mark((function t(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),t)})))()}},{key:"cleanUp",value:function(){}}]),n}($s);function eu(e,t){return tu.apply(this,arguments)}function tu(){return(tu=e(i)(e(g).mark((function t(r,n){var a,i,o;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=au(n),i=nu(r),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(a);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,i._remove(a);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ru(e,t){Qs.set(e._key(),t)}function nu(e){return Ai(e._redirectPersistence)}function au(e){return Li("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(e,t){return ou.apply(this,arguments)}function ou(){return ou=e(i)(e(g).mark((function t(r,n){var a,i,o,s,u,c=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]&&c[2],i=eo(r),o=zs(i,n),s=new Zs(i,o,a),e.next=6,s.execute();case 6:if(!(u=e.sent)||a){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),t)}))),ou.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var su=function(){"use strict";function t(r){e(s)(this,t),this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return e(u)(t,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach((function(n){t.isEventForConsumer(e,n)&&(r=!0,t.sendToConsumer(e,n),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}},{key:"sendToConsumer",value:function(e,t){var r;if(e.error&&!cu(e)){var n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(La(this.auth,n))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(uu(e)),this.lastProcessedEventTime=Date.now()}}]),t}();function uu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cu(e){var t=e.type,r=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==r?void 0:r.code)}function lu(e){return fu.apply(this,arguments)}function fu(){return fu=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(i)(e(g).mark((function t(r){var n,a=arguments;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",Xa(r,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),t)}))),fu.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,du=/^https?/;function hu(){return(hu=e(i)(e(g).mark((function t(r){var n,a,i,o,s,u,c;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lu(r);case 4:n=e.sent.authorizedDomains,a=!0,i=!1,o=void 0,e.prev=6,s=n[Symbol.iterator]();case 8:if(a=(u=s.next()).done){e.next=20;break}if(c=u.value,e.prev=10,!vu(c)){e.next=13;break}return e.abrupt("return");case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(10);case 17:a=!0,e.next=8;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(6),i=!0,o=e.t1;case 26:e.prev=26,e.prev=27,a||null==s.return||s.return();case 29:if(e.prev=29,!i){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(26);case 34:Na(r,"unauthorized-domain");case 35:case"end":return e.stop()}}),t,null,[[6,22,26,34],[10,15],[27,,29,33]])})))).apply(this,arguments)}function vu(e){var t=Va(),r=new URL(t),n=r.protocol,a=r.hostname;if(e.startsWith("chrome-extension://")){var i=new URL(e);return""===i.hostname&&""===a?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===a}if(!du.test(n))return!1;if(pu.test(e))return a===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mu=new za(3e4,6e4);function gu(){var t=ys().___jsl,r=!0,n=!1,a=void 0;if(null==t?void 0:t.H)try{for(var i,o=Object.keys(t.H)[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;if(t.H[s].r=t.H[s].r||[],t.H[s].L=t.H[s].L||[],t.H[s].r=e(f)(t.H[s].L),t.CP)for(var u=0;u<t.CP.length;u++)t.CP[u]=null}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}var yu=null;function bu(e){return yu=yu||function(e){return new Promise((function(t,r){var n,a,i;function o(){gu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gu(),r(La(e,"network-request-failed"))},timeout:mu.get()})}if(null===(a=null===(n=ys().gapi)||void 0===n?void 0:n.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=ys().gapi)||void 0===i?void 0:i.load)){var s=no("iframefcb");return ys()[s]=function(){gapi.load?o():r(La(e,"network-request-failed"))},ro("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return r(e)}))}o()}})).catch((function(e){throw yu=null,e}))}(e),yu}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ku=new za(5e3,15e3),wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_u=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xu(e){var t=e.config;ja(t.authDomain,e,"auth-domain-config-required");var r=t.emulator?Wa(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),n={apiKey:t.apiKey,appName:e.name,v:St},a=_u.get(e.config.apiHost);a&&(n.eid=a);var i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),"".concat(r,"?").concat(Ee(n).slice(1))}function Iu(e){return Eu.apply(this,arguments)}function Eu(){return Eu=e(i)(e(g).mark((function t(r){var n,a;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bu(r);case 2:return n=t.sent,ja(a=ys().gapi,r,"internal-error"),t.abrupt("return",n.open({where:document.body,url:xu(r),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wu,dontclear:!0},(function(t){return new Promise((n=e(i)(e(g).mark((function n(a,i){var o,s,u;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){ys().clearTimeout(s),a(t)},e.next=3,t.restyle({setHideOnLeave:!1});case 3:o=La(r,"network-request-failed"),s=ys().setTimeout((function(){i(o)}),ku.get()),t.ping(u).then(u,(function(){i(o)}));case 7:case"end":return e.stop()}}),n)}))),function(e,t){return n.apply(this,arguments)}));var n})));case 6:case"end":return t.stop()}}),t)}))),Eu.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Su="_blank",Cu="http://localhost",Ou=function(){"use strict";function t(r){e(s)(this,t),this.window=r,this.associatedEvent=null}return e(u)(t,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),t}();function Pu(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-a)/2,0).toString(),u="",c=Object.assign(Object.assign({},Tu),{width:a.toString(),height:i.toString(),top:o,left:s}),l=de().toLowerCase();n&&(u=Fi(l)?Su:n),ji(l)&&(r=r||Cu,c.scrollbars="yes");var f=Object.entries(c).reduce((function(t,r){var n=e(b)(r,2),a=n[0],i=n[1];return"".concat(t).concat(a,"=").concat(i,",")}),"");if(Ki(l)&&"_self"!==u)return Au(r||"",u),new Ou(null);var p=window.open(r||"",u,f);ja(p,t,"popup-blocked");try{p.focus()}catch(e){}return new Ou(p)}function Au(e,t){var r=document.createElement("a");r.href=e,r.target=t;var n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ru=encodeURIComponent("fac");function Nu(e,t,r,n,a,i){return Lu.apply(this,arguments)}function Lu(){return(Lu=e(i)(e(g).mark((function t(r,n,a,i,o,s){var u,c,l,f,p,d,h,v,m,y,k,w,_,x,I,E,T,S,C;return e(g).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ja(r.config.authDomain,r,"auth-domain-config-required"),ja(r.config.apiKey,r,"invalid-api-key"),u={apiKey:r.config.apiKey,appName:r.name,authType:a,redirectUrl:i,v:St,eventId:o},!(n instanceof Mo)){t.next=24;break}for(n.setDefaultLanguage(r.languageCode),u.providerId=n.providerId||"",_e(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=!0,l=!1,f=void 0,t.prev=8,p=Object.entries(s||{})[Symbol.iterator]();!(c=(d=p.next()).done);c=!0)h=e(b)(d.value,2),v=h[0],m=h[1],u[v]=m;t.next=16;break;case 12:t.prev=12,t.t0=t.catch(8),l=!0,f=t.t0;case 16:t.prev=16,t.prev=17,c||null==p.return||p.return();case 19:if(t.prev=19,!l){t.next=22;break}throw f;case 22:return t.finish(19);case 23:return t.finish(16);case 24:for(n instanceof jo&&(y=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=y.join(",")),r.tenantId&&(u.tid=r.tenantId),k=u,w=!0,_=!1,x=void 0,t.prev=28,I=Object.keys(k)[Symbol.iterator]();!(w=(E=I.next()).done);w=!0)T=E.value,void 0===k[T]&&delete k[T];t.next=36;break;case 32:t.prev=32,t.t1=t.catch(28),_=!0,x=t.t1;case 36:t.prev=36,t.prev=37,w||null==I.return||I.return();case 39:if(t.prev=39,!_){t.next=42;break}throw x;case 42:return t.finish(39);case 43:return t.finish(36);case 44:return t.next=46,r._getAppCheckToken();case 46:return S=t.sent,C=S?"#".concat(Ru,"=").concat(encodeURIComponent(S)):"",t.abrupt("return","".concat(Du(r),"?").concat(Ee(k).slice(1)).concat(C));case 49:case"end":return t.stop()}}),t,null,[[8,12,16,24],[17,,19,23],[28,32,36,44],[37,,39,43]])})))).apply(this,arguments)}function Du(e){var t=e.config;return t.emulator?Wa(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mu="webStorageSupport",ju=function(){"use strict";function t(){e(s)(this,t),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=iu,this._overrideRedirectResult=ru}return e(u)(t,[{key:"_openPopup",value:function(t,r,n,a){var o=this;return e(i)(e(g).mark((function i(){var s,u;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fa(null===(s=o.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()"),e.next=4,Nu(t,r,n,Va(),a);case 4:return u=e.sent,e.abrupt("return",Pu(t,u,ms()));case 6:case"end":return e.stop()}}),i)})))()}},{key:"_openRedirect",value:function(t,r,n,a){var o=this;return e(i)(e(g).mark((function i(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._originValidation(t);case 2:return e.next=4,Nu(t,r,n,Va(),a);case 4:return bs(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),i)})))()}},{key:"_initialize",value:function(e){var t=this,r=e._key();if(this.eventManagers[r]){var n=this.eventManagers[r],a=n.manager,i=n.promise;return a?Promise.resolve(a):(Fa(i,"If manager is not set, promise should be"),i)}var o=this.initAndGetManager(e);return this.eventManagers[r]={promise:o},o.catch((function(){delete t.eventManagers[r]})),o}},{key:"initAndGetManager",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iu(t);case 2:return a=e.sent,i=new su(t),a.register("authEvent",(function(e){return ja(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),r.eventManagers[t._key()]={manager:i},r.iframes[t._key()]=a,e.abrupt("return",i);case 8:case"end":return e.stop()}}),n)})))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Mu,{type:Mu},(function(r){var n,a=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n.webStorageSupport;void 0!==a&&t(!!a),Na(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Gi()||Ui()||Wi()}}]),t}(),Uu=ju,Fu=function(){"use strict";function t(r){e(s)(this,t),this.factorId=r}return e(u)(t,[{key:"_process",value:function(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ua("unexpected MultiFactorSessionType")}}}]),t}(),Vu=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t){var a;return e(s)(this,n),(a=r.call(this,"phone")).credential=t,a}return e(u)(n,[{key:"_finalizeEnroll",value:function(e,t,r){return function(e,t){return Xa(e,"POST","/v2/accounts/mfaEnrollment:finalize",$a(e,t))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Xa(e,"POST","/v2/accounts/mfaSignIn:finalize",$a(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Fu);(function(){"use strict";function t(){e(s)(this,t)}return e(u)(t,null,[{key:"assertion",value:function(e){return Vu._fromCredential(e)}}]),t}()).FACTOR_ID="phone";var Bu=function(){"use strict";function t(){e(s)(this,t)}return e(u)(t,null,[{key:"assertionForEnrollment",value:function(e,t){return Hu._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Hu._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(t){return e(i)(e(g).mark((function r(){var n,a,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ja(void 0!==(null===(n=(a=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=5,r=a.user.auth,o={idToken:a.credential,totpEnrollmentInfo:{}},Xa(r,"POST","/v2/accounts/mfaEnrollment:start",$a(r,o));case 5:return i=e.sent,e.abrupt("return",zu._fromStartTotpMfaEnrollmentResponse(i,a.user.auth));case 7:case"end":return e.stop()}var r,o}),r)})))()}}]),t}();Bu.FACTOR_ID="totp";var Hu=function(t){"use strict";e(T)(n,t);var r=e(M)(n);function n(t,a,i){var o;return e(s)(this,n),(o=r.call(this,"totp")).otp=t,o.enrollmentId=a,o.secret=i,o}return e(u)(n,[{key:"_finalizeEnroll",value:function(t,r,n){var a=this;return e(i)(e(g).mark((function i(){return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ja(void 0!==a.secret,t,"argument-error"),e.abrupt("return",ss(t,{idToken:r,displayName:n,totpVerificationInfo:a.secret._makeTotpVerificationInfo(a.otp)}));case 2:case"end":return e.stop()}}),i)})))()}},{key:"_finalizeSignIn",value:function(t,r){var n=this;return e(i)(e(g).mark((function a(){var i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ja(void 0!==n.enrollmentId&&void 0!==n.otp,t,"argument-error"),i={verificationCode:n.otp},e.abrupt("return",Us(t,{mfaPendingCredential:r,mfaEnrollmentId:n.enrollmentId,totpVerificationInfo:i}));case 3:case"end":return e.stop()}}),a)})))()}}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Fu),zu=function(){"use strict";function t(r,n,a,i,o,u,c){e(s)(this,t),this.sessionInfo=u,this.auth=c,this.secretKey=r,this.hashingAlgorithm=n,this.codeLength=a,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=o}return e(u)(t,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var r,n=!1;return(Wu(e)||Wu(t))&&(n=!0),n&&(Wu(e)&&(e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser"),Wu(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(e,r){return new t(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,r)}}]),t}();function Wu(e){return void 0===e||0===(null==e?void 0:e.length)}var Ku="@firebase/auth",qu="1.3.0",Gu=function(){"use strict";function t(r){e(s)(this,t),this.auth=r,this.internalListeners=new Map}return e(u)(t,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(t){var r=this;return e(i)(e(g).mark((function n(){var a;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.assertAuthConfigured(),e.next=3,r.auth._initializationPromise;case 3:if(r.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,r.auth.currentUser.getIdToken(t);case 7:return a=e.sent,e.abrupt("return",{accessToken:a});case 9:case"end":return e.stop()}}),n)})))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ja(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ju,$u=fe("authIdTokenMaxAge")||300,Xu=null,Yu=function(t){return r=e(i)(e(g).mark((function r(n){var a,i,o;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n,!e.t0){e.next=5;break}return e.next=4,n.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(a=e.t0,!((i=a&&((new Date).getTime()-Date.parse(a.issuedAtTime))/1e3)&&i>$u)){e.next=9;break}return e.abrupt("return");case 9:if(o=null==a?void 0:a.token,Xu!==o){e.next=12;break}return e.abrupt("return");case 12:return Xu=o,e.next=15,fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}});case 15:case"end":return e.stop()}}),r)}))),function(e){return r.apply(this,arguments)};var r};Ju="Browser",_t(new Ne("auth",(function(e,t){var r=t.options,n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),o=n.options,s=o.apiKey,u=o.authDomain;ja(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});var c={apiKey:s,authDomain:u,clientPlatform:Ju,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ji(Ju)},l=new Zi(n,a,i,c);return function(e,t){var r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ai);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(l,r),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,r){e.getProvider("auth-internal").initialize()}))),_t(new Ne("auth-internal",(function(e){var t=eo(e.getProvider("auth").getImmediate());return new Gu(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),Pt(Ku,qu,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ju)),Pt(Ku,qu,"esm2017");var Qu=Ct({apiKey:"AIzaSyDEwvEXXsK7YtPtINm0uNijjpvtCKgxbAg",authDomain:"disney-showcase.firebaseapp.com",projectId:"disney-showcase",storageBucket:"disney-showcase.appspot.com",messagingSenderId:"923646245832",appId:"1:923646245832:web:6d12c818e6f50912621efd",measurementId:"G-3T6B4KM899"}),Zu=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot(),t=xt(e=Re(e),In);t.isInitialized()?t.getImmediate():ma(e)}(Qu),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot(),t=xt(e,"auth");if(t.isInitialized())return t.getImmediate();var r=co(e,{popupRedirectResolver:Uu,persistence:[Ms,fs,ds]}),n=fe("authTokenSyncURL");if(n){var a=Yu(n);as(r,a,(function(){return a(r.currentUser)})),ns(r,(function(e){return a(e)}))}var i=ce("auth");return i&&lo(r,"http://".concat(i)),r}(Qu)),ec=document.querySelector("[data-open-modal]"),tc=document.querySelector("[data-close-modal"),rc=document.querySelector("[data-modal]");ec.addEventListener("click",(function(){rc.showModal()})),tc.addEventListener("click",(function(){rc.close()})),loggin__btn.addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("email").value,r=document.getElementById("password").value;rs(Zu,t,r).then((function(e){e.user;console.log("yaaay"),alert("Loged In!")})).catch((function(e){e.code;var t=e.message;alert(t)}))}));var nc,ac,ic;Zu.currentUser;nc=function(e){var t=document.getElementById("not-logged-in"),r=document.getElementById("logged-in");e?(r.style.display="block",t.style.display="none",e.uid):(r.style.display="none",t.style.display="block")},Re(Zu).onAuthStateChanged(nc,ac,ic),logout__btn.addEventListener("click",(function(e){is(Zu).then((function(){alert("Signed out")})).catch((function(e){e.code;var t=e.message;alert(t)}))}));var oc="https://api.disneyapi.dev/character?pageSize=100",sc=new Map;function uc(){return(uc=e(i)(e(g).mark((function t(){var r,n,a,i,o,s;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(oc);case 3:return r=e.sent,e.next=6,r.json();case 6:(n=e.sent).hasOwnProperty("data")&&Array.isArray(n.data)?(a=document.getElementById("charactersList"),i=document.getElementById("favCharacters"),o=n.data.filter((function(e){return e.films.length>0})),s=document.createElement("ul"),o.forEach((function(e){var t=cc(e,i);s.appendChild(t)})),a.appendChild(s)):console.error("error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("error",e.t0);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function cc(e,t){var r,n,a=document.createElement("li"),i=function(e,t){var r=document.createElement("i");r.classList.add("far","fa-star"),r.addEventListener("click",(function(){!function(e,t,r){if(sc.has(e.id))sc.delete(e.id),t.classList.remove("fas","fa-star","favorite"),t.classList.add("far","fa-star"),function(e,t){for(var r=t.children,n=0;n<r.length;n++){var a=r[n];if(a.textContent.includes(e.name)){t.removeChild(a);break}}}(e,r);else{sc.set(e.id,e),t.classList.remove("far","fa-star"),t.classList.add("fas","fa-star","favorite");var n=cc(e,r);r.appendChild(n)}}(e,r,t)})),sc.has(e.id)&&(r.classList.remove("far","fa-star"),r.classList.add("fas","fa-star","favorite"));return r}(e,t),o=document.createElement("img");if(o.src=e.imageUrl,o.alt=e.name,a.appendChild(i),a.appendChild(o.cloneNode(!0)),a.appendChild(document.createTextNode("".concat(e.name," - ").concat(e.films.length," films"))),e.tvShows.length>0){var s=function(e){var t=document.createElement("i");return t.classList.add("fas","fa-tv","tv-shows-icon"),t}();a.appendChild(s);var u=(r=e.tvShows,(n=document.createElement("div")).classList.add("tv-shows-tooltip"),n.textContent=r.join(", "),n.style.display="none",n);a.appendChild(u),s.addEventListener("mouseover",(function(){u.style.display="block"})),s.addEventListener("mouseout",(function(){u.style.display="none"}))}return a}function lc(){return(lc=e(i)(e(g).mark((function t(){var r,n,a,i,o,s,u,c;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(oc);case 3:return r=e.sent,e.next=6,r.json();case 6:if((n=e.sent).hasOwnProperty("data")&&Array.isArray(n.data))for((a=n.data.filter((function(e){return e.films.length>0}))).sort((function(e,t){return t.films.length-e.films.length})),i=document.getElementById("popularList"),o=document.createElement("div"),i.appendChild(o),s=0;s<3;s++)u=a[s],c=fc(u),o.appendChild(c);else console.error("error");e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("error",e.t0);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function fc(e){var t=document.createElement("div");t.classList.add("character-tile");var r=document.createElement("img");r.src=e.imageUrl||"default-image-url.jpg",r.alt=e.name,r.classList.add("character-image");var n=document.createElement("div");n.classList.add("character-name"),n.textContent=e.name;var a=document.createElement("div");return a.classList.add("character-films"),a.textContent="".concat(e.films.length," films"),t.appendChild(r),t.appendChild(n),t.appendChild(a),t}document.getElementById("characterFilter").addEventListener("input",(function(){var e=document.getElementById("characterFilter").value.toLowerCase();document.querySelectorAll("#charactersList li").forEach((function(t){t.textContent.toLowerCase().includes(e)?t.style.display="block":t.style.display="none"}))})),function(){uc.apply(this,arguments)}(),function(){lc.apply(this,arguments)}()}();
//# sourceMappingURL=index.481187a8.js.map
